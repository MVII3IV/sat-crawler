<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" class="js svg wf-loading wf-opensans-i3-loading wf-opensans-i4-loading wf-opensans-n4-loading wf-opensans-n3-loading wf-opensans-n6-loading wf-opensans-n7-loading">
<head id="ctl00_Head1">
    <title>
        Portal Contribuyentes CFDI | Buscar CFDI
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-16"/>
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE"/>
    <meta http-equiv="PRAGMA" content="NO-CACHE"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="X-UA-Compatible" content="IE=8; IE=9;"/>
    <link rel="shortcut icon" href="Content/images/favicon.ico" type="image/vnd.microsoft.icon"/>
    <link rel="icon" href="Content/images/favicon.ico" type="image/vnd.microsoft.icon"/>
    <link href="Content/satMain.css" rel="stylesheet"/>
    <link href="Styles/SatNomina.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js" type="text/javascript" async="">
    </script>
    <script src="../Scripts/plugins.js">
    </script>
    <script src="../Scripts/main.js">
    </script>
    <script src="../Scripts/Jquery/jquery-1.4.1.js" type="text/javascript">
    </script>
    <script src="../Scripts/Jquery/SessionValidation.js" type="text/javascript">
    </script>
    <script src="../Scripts/Jquery/CuadriculaSat.js" type="text/javascript">
    </script>
    <script src="../Scripts/Jquery/FuncionesComunes.js" type="text/javascript">
    </script>
    <script src="../Scripts/CustomAlert.js" type="text/javascript">
    </script>
    <script src="../Scripts/gobmx.js" type="text/javascript">
    </script>
    <script src="../Scripts/Jquery/jquery.base64.js" type="text/javascript">
    </script>
    <script src="../Scripts/utilfirma/crypto/core.js" type="text/javascript">
    </script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600,700&amp;subset=latin" media="all"/>
    <script src="../Scripts/utilfirma/crypto/sha256.js" type="text/javascript">
    </script>
</head>
<body onload="deshabilitaHistoria();" onunload="deshabilitaHistoria();">
<header>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbarMainCollapse">
              <span class="sr-only">
                Interruptor de Navegación
              </span>
                    <span class="icon-bar">
              </span>
                    <span class="icon-bar">
              </span>
                    <span class="icon-bar">
              </span>
                </button>
                <a class="navbar-brand" style="padding-left:6px;" href="https://www.gob.mx/">
                    <img src="https://framework-gb.cdn.gob.mx/assets/images/gobmxlogo.svg" width="75" height="23" alt="Página de inicio, Gobierno de México"/>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="navbarMainCollapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://www.gob.mx/tramites">
                            Trámites
                        </a>
                    </li>
                    <li>
                        <a href="https://www.gob.mx/gobierno">
                            Gobierno
                        </a>
                    </li>
                    <li>
                        <a href="https://www.gob.mx/participa">
                            Participa
                        </a>
                    </li>
                    <li>
                        <a href="http://datos.gob.mx" title="Datos abiertos">
                            Datos
                        </a>
                    </li>
                    <li>
                        <a href="https://www.gob.mx/busqueda">
                  <span class="sr-only">
                    Búsqueda
                  </span>
                            <i class="icon-search">
                            </i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>




-


<style type="text/css">

        .Interactivo {
            color: #545454;
            cursor: pointer;
            margin:3px;
        }

    </style>
<script type="text/javascript">
//<![CDATA[


        $(document).ready(function () {
            var parUrl = "?oculta=1";
            var parUrl1 = "<a href='#'>Generación de CFDI</a>";


            //mainmenu();

            //Llamada a función para validar el tiempo de sesión
            window.setInterval("VerificaSesion()", 90000);
        });

        function mainmenu() {
            $(" #nav ul ").css({ display: "none" });
            $(" #nav li").hover(function () {
                $(this).find('ul:first:hidden').css({ visibility: "visible", display: "none" }).slideDown(400);
            }, function () {
                $(this).find('ul:first').slideUp(400);
            });
        }


//]]>
    </script>
<!--[if IE]>
<link rel="stylesheet" href="Styles/IeFix.css" type="text/css" />
<![endif]-->    <!--[if IE 7]>
<link href="Styles/satIE7.css" rel="stylesheet" type="text/css" />
<![endif]-->    <script src="Scripts/json2.min.js" type="text/javascript">
</script>
<script src="../Scripts/Jquery/jquery.maskedinput-1.2.2.min.js" type="text/javascript">
</script>
<script src="../Scripts/jquery.plugin.selectbox.js" type="text/javascript">
</script>
<script type="text/javascript">
//<![CDATA[

        function jsEstadoComprobante(EstadoCFDI) {

            var selectedValue = EstadoCFDI.value;

            document.getElementById('DivlblEstatusCancelacion').style.display = "none";
            document.getElementById('DivddlVigente').style.display = "none";
            document.getElementById('DivddlCancelado').style.display = "none";

            if (selectedValue == 0) {
                document.getElementById('DivlblEstatusCancelacion').style.display = "block";
                document.getElementById('DivddlCancelado').style.display = "block";
                document.getElementById('ddlCancelado').selectedIndex = 0;

            }

            if (selectedValue == 1) {
                document.getElementById('DivlblEstatusCancelacion').style.display = "block";
                document.getElementById('DivddlVigente').style.display = "block";
                document.getElementById('ddlVigente').selectedIndex = 0;

            }

        }

        function EstadoComprobante(EstadoCFDI) {

            var selectedValue = EstadoCFDI;

            document.getElementById('DivlblEstatusCancelacion').style.display = "none";
            document.getElementById('DivddlVigente').style.display = "none";
            document.getElementById('DivddlCancelado').style.display = "none";

            if (selectedValue == 0) {
                document.getElementById('DivlblEstatusCancelacion').style.display = "block";
                document.getElementById('DivddlCancelado').style.display = "block";
            }

            if (selectedValue == 1) {
                document.getElementById('DivlblEstatusCancelacion').style.display = "block";
                document.getElementById('DivddlVigente').style.display = "block";
            }

        }

//]]>
    </script>
<form method="post" action="./ConsultaEmisor.aspx" onsubmit="javascript:return WebForm_OnSubmit();" id="aspnetForm" class="form-horizontal" role="form">
    <div class="aspNetHidden">
        <input type="hidden" name="__CSRFTOKEN" id="__CSRFTOKEN" value="/wEFJGQzZWE5OGE3LTY2YjEtNDE1ZC1iODE3LTY1NDhhMDc0Zjg1Ng=="/>
    </div>
    <script type="text/javascript">

//<![CDATA[
var theForm = document.forms['aspnetForm'];
if (!theForm) {
    theForm = document.aspnetForm;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>

      </script>
    <script src="/WebResource.axd?d=w3hP2KgSK0z5QKKeYrfjOjGIUO1WTymINPb1PJaT2X4pro1GOFp4BgbUoypjuao4A5oVOAjAREgWLQ_9gOp19BJLQL03iwEhxTK_VlYMMLk1&amp;t=637060880952276231" type="text/javascript">
    </script>
    <script src="/ScriptResource.axd?d=gTSpbwECUbVnD8FwBTiLkgFUKbX3gsZRKiklTbgj6_YehZbk5-vaR50HdiwZYTaTzTgfDPf1lVejLsHvKBasH0ZohpXHH2T_j6fUzbQDdcFQ72SJ5M06wSlKLUS1ZwU9vBdKgbXKYJXpf8DM0CmB-Fz785BhAsUAlCoOUE7X55c1&amp;t=4e518d44" type="text/javascript">
    </script>
    <script src="/ScriptResource.axd?d=JZxa8gqDBBrScXZMeyf5kBYrESwOlB3UypK5wab2Ap3XkzrCnmxBsYylgG1VkpmQg8DrCGcU2CDdtwXwFcIdHxv5SXT1EZV2dWakHr-FuPi-8VwVQkIhaNcxJ4e-J-L8zCtsdGfW92qpYAba8RsL1xfZ_4qsx20HZ3gnR8gWNG81&amp;t=ffffffffa580202a" type="text/javascript">
    </script>
    <script src="/ScriptResource.axd?d=Z6KcuJ_OzxT6nvHmSunXcYkoXPPYk2iZ6iqqza3xyGFxXU1K42w8VfvajfbiWhnOh5Bs0OTQyJX22S0xjFM1AdJilMPQ3a7War_1xYNIJ7Vyo5iLHgK98y0BIOo7I6IYm4FBp6w6-489bgj15VDuVkhNMhq8K8bd09EWTYt8d-AfoMh3rrp75DWb5vMAI1wb0&amp;t=ffffffffa580202a" type="text/javascript">
    </script>
    <script type="text/javascript">

//<![CDATA[
var PageMethods = function() {
PageMethods.initializeBase(this);
this._timeout = 0;
this._userContext = null;
this._succeeded = null;
this._failed = null;
}
PageMethods.prototype = {
_get_path:function() {
 var p = this.get_path();
 if (p) return p;
 else return PageMethods._staticInstance.get_path();},
RecuperaAcuse:function(datos,succeededCallback, failedCallback, userContext) {
return this._invoke(this._get_path(), 'RecuperaAcuse',false,{datos:datos},succeededCallback,failedCallback,userContext); },
RecuperaRepresentacionImpresa:function(datos,succeededCallback, failedCallback, userContext) {
return this._invoke(this._get_path(), 'RecuperaRepresentacionImpresa',false,{datos:datos},succeededCallback,failedCallback,userContext); },
ValidarDescarga:function(id,succeededCallback, failedCallback, userContext) {
return this._invoke(this._get_path(), 'ValidarDescarga',false,{id:id},succeededCallback,failedCallback,userContext); },
Descargar:function(param,succeededCallback, failedCallback, userContext) {
return this._invoke(this._get_path(), 'Descargar',false,{param:param},succeededCallback,failedCallback,userContext); },
DescargaMetadatos:function(Parametros,succeededCallback, failedCallback, userContext) {
return this._invoke(this._get_path(), 'DescargaMetadatos',false,{Parametros:Parametros},succeededCallback,failedCallback,userContext); },
ObtieneUsuario:function(succeededCallback, failedCallback, userContext) {
return this._invoke(this._get_path(), 'ObtieneUsuario',false,{},succeededCallback,failedCallback,userContext); }}
PageMethods.registerClass('PageMethods',Sys.Net.WebServiceProxy);
PageMethods._staticInstance = new PageMethods();
PageMethods.set_path = function(value) { PageMethods._staticInstance.set_path(value); }
PageMethods.get_path = function() { return PageMethods._staticInstance.get_path(); }
PageMethods.set_timeout = function(value) { PageMethods._staticInstance.set_timeout(value); }
PageMethods.get_timeout = function() { return PageMethods._staticInstance.get_timeout(); }
PageMethods.set_defaultUserContext = function(value) { PageMethods._staticInstance.set_defaultUserContext(value); }
PageMethods.get_defaultUserContext = function() { return PageMethods._staticInstance.get_defaultUserContext(); }
PageMethods.set_defaultSucceededCallback = function(value) { PageMethods._staticInstance.set_defaultSucceededCallback(value); }
PageMethods.get_defaultSucceededCallback = function() { return PageMethods._staticInstance.get_defaultSucceededCallback(); }
PageMethods.set_defaultFailedCallback = function(value) { PageMethods._staticInstance.set_defaultFailedCallback(value); }
PageMethods.get_defaultFailedCallback = function() { return PageMethods._staticInstance.get_defaultFailedCallback(); }
PageMethods.set_enableJsonp = function(value) { PageMethods._staticInstance.set_enableJsonp(value); }
PageMethods.get_enableJsonp = function() { return PageMethods._staticInstance.get_enableJsonp(); }
PageMethods.set_jsonpCallbackParameter = function(value) { PageMethods._staticInstance.set_jsonpCallbackParameter(value); }
PageMethods.get_jsonpCallbackParameter = function() { return PageMethods._staticInstance.get_jsonpCallbackParameter(); }
PageMethods.set_path("ConsultaEmisor.aspx");
PageMethods.RecuperaAcuse= function(datos,onSuccess,onFailed,userContext) {PageMethods._staticInstance.RecuperaAcuse(datos,onSuccess,onFailed,userContext); }
PageMethods.RecuperaRepresentacionImpresa= function(datos,onSuccess,onFailed,userContext) {PageMethods._staticInstance.RecuperaRepresentacionImpresa(datos,onSuccess,onFailed,userContext); }
PageMethods.ValidarDescarga= function(id,onSuccess,onFailed,userContext) {PageMethods._staticInstance.ValidarDescarga(id,onSuccess,onFailed,userContext); }
PageMethods.Descargar= function(param,onSuccess,onFailed,userContext) {PageMethods._staticInstance.Descargar(param,onSuccess,onFailed,userContext); }
PageMethods.DescargaMetadatos= function(Parametros,onSuccess,onFailed,userContext) {PageMethods._staticInstance.DescargaMetadatos(Parametros,onSuccess,onFailed,userContext); }
PageMethods.ObtieneUsuario= function(onSuccess,onFailed,userContext) {PageMethods._staticInstance.ObtieneUsuario(onSuccess,onFailed,userContext); }
var gtc = Sys.Net.WebServiceProxy._generateTypedConstructor;
Type.registerNamespace('Sat.Cfdi.Iu.Contribuyente.Portal');
if (typeof(Sat.Cfdi.Iu.Contribuyente.Portal.RespuestaValidaDescarga) === 'undefined') {
Sat.Cfdi.Iu.Contribuyente.Portal.RespuestaValidaDescarga=gtc("Sat.Cfdi.Iu.Contribuyente.Portal.RespuestaValidaDescarga");
Sat.Cfdi.Iu.Contribuyente.Portal.RespuestaValidaDescarga.registerClass('Sat.Cfdi.Iu.Contribuyente.Portal.RespuestaValidaDescarga');
}
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
//]]>

      </script>
    <div class="aspNetHidden">
    </div>
    <script type="text/javascript">

//<![CDATA[
Sys.WebForms.PageRequestManager._initialize('ctl00$ScriptManager1', 'aspnetForm', ['fctl00$UpnlNombre','','tctl00$MainContent$UpnlBusqueda','','tctl00$MainContent$CldFechaInicial2$UpnlSeleccionFecha','','tctl00$MainContent$CldFechaFinal2$UpnlSeleccionFecha','','tctl00$MainContent$UpnlResultados',''], [], ['ctl00$MainContent$BtnDescargar','','ctl00$MainContent$BtnMetadata','','ctl00$MainContent$BtnCancelar','','ctl00$MainContent$BtnImprimir',''], 18000000, 'ctl00');
//]]>

      </script>
    <input type="hidden" id="hdnAut" value="U1NBMTYxMTA5Q1ox"/>
    <main role="main">
        <nav class="navbar navbar-inverse sub-navbar navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#subenlaces">
                <span class="sr-only">
                  Interruptor de Navegación
                </span>
                        <span class="icon-bar">
                </span>
                        <span class="icon-bar">
                </span>
                        <span class="icon-bar">
                </span>
                    </button>
                    <a class="navbar-brand" href="/">
                        Factura electrónica
                    </a>
                </div>
                <div class="collapse navbar-collapse" id="subenlaces">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" href="#">
                                Consulta CFDI
                                <span class="caret">
                    </span>
                            </a>
                            <ul class="dropdown-menu" role="menu">
                                <li>
                                    <a href="Consulta.aspx?oculta=1">
                                        Factura Electrónica
                                    </a>
                                </li>
                                <li>
                                    <a href="https://prodretencioncontribuyente.clouda.sat.gob.mx/?oculta=1">
                                        Retenciones e Inf. de Pagos
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="https://pacsat.facturaelectronica.sat.gob.mx/Comprobante/CapturarComprobante" class="dropdown-toggle" data-toggle="" role="button" aria-expanded="false" id="menuDesplegable">

                                Generación de CFDI
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div id="cuerpo_principal" class="container top-buffer-submenu">
            <div id="encabezado" class="row">
                <div id="ctl00_UpnlNombre">
                </div>
                <div id="encabezadoImagen" class="row">
                    <div class="col-md-8">
                        <ol class="breadcrumb">
                            <li>
                                <a href="../Consulta.aspx">
                                    <i class="icon icon-home">
                                    </i>
                                </a>
                            </li>
                            <li>
                                <a href="../Consulta.aspx">
                                    Inicio
                                </a>
                            </li>
                            <li class="active">
                    <span id="ctl00_lblPaginaActual">
                      Consultar Facturas Emitidas
                    </span>
                            </li>
                        </ol>
                    </div>
                    <div class="col-sm-4">
                        <div class="user-credencials">
                            <ul class="list-unstyled">
                                <li>
                      <span id="ctl00_LblRfcAutenticado" class="signin">
                        RFC Autenticado: SSA161109CZ1
                      </span>
                                    <a class="pull-right" type="button" href="/logout.aspx?salir=y" id="anchorClose">
                                        Salir
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="encabezadoPortal">
                </div>
            </div>
            <div id="cuerpo" style="margin-top: 30px">
                <h2>
                    Consultar Facturas Emitidas
                </h2>
                <br/>
                <div id="ctl00_MainContent_PnlConsulta" onkeypress="javascript:return WebForm_FireDefaultButton(event, 'ctl00_MainContent_BtnBusqueda')">
                    <div id="ctl00_MainContent_UpnlBusqueda">
                        <div class="col-md-12">
                            <div class="col-md-6">
                                <div class="form-group">
                      <span class="radio-inline">
                        <input id="ctl00_MainContent_RdoFolioFiscal" type="radio" name="ctl00$MainContent$FiltroCentral" value="RdoFolioFiscal" onclick="javascript:setTimeout('__doPostBack(\'ctl00$MainContent$RdoFolioFiscal\',\'\')', 0)"/>
                        <label for="ctl00_MainContent_RdoFolioFiscal">
                          Folio Fiscal *
                        </label>
                      </span>
                                </div>
                                <div class="form-group">
                                    <input name="ctl00$MainContent$TxtUUID" type="text" maxlength="36" id="ctl00_MainContent_TxtUUID" disabled="disabled" class="aspNetDisabled form-control" placeholder="Folio fiscal" style="text-transform: uppercase;" value=""/>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="col-md-1">
                      <span class="radio-inline">
                        <input id="ctl00_MainContent_RdoFechas" type="radio" name="ctl00$MainContent$FiltroCentral" value="RdoFechas" checked="checked"/>
                      </span>
                                </div>
                                <div class="col-md-5" style="float: left !important;">
                                    <input type="hidden" name="ctl00$MainContent$hfInicial" id="hfInicial"/>
                                    <input type="hidden" name="ctl00$MainContent$hfInicialBool" id="hfInicialBool" value="false"/>
                                    <style type="text/css">



    /* the div that holds the date picker calendar */
    .dpDiv
    {
    }


    /* the table (within the div) that holds the date picker calendar */
    .dpTable
    {
        font-family: Open Sans, Helvetica Neue, Helvetica, Arial, sans-serif;
        font-size: 18px;
        line-height: 1.4285;
        text-align: center;
        color: #333;
        background-color: #fff;
        box-shadow: 0px 2px 7px rgba(0,0,0,0.2);
        border-radius: 0;
        width: 300px;
        height: 300px;
    }



    /* the top table row that holds the month, year, and forward/backward buttons */
    .dpTitleTR
    {
        background-color: #222;
    }


    /* the second table row, that holds the names of days of the week (Mo, Tu, We, etc.) */
    .dpDayTR
    {
        border-bottom: 1px solid #111;
    }


    /* a table cell that holds a date number (either blank or 1-31) */
    .dpTD
    {
        /*	border: 1px solid #ece9d8;*/
        color: #003399;
    }


    /* a table cell that holds a highlighted day (usually either today's date or the current date field value) */
    .dpDayHighlightTD
    {
        background-color: #ffdf88;
    }


    /* the date number table cell that the mouse pointer is currently over (you can use contrasting colors to make it apparent which cell is being hovered over) */
    .dpTDHover
    {
        background-color: #ffffff;
        border: 1px solid #888888;
        cursor: pointer;
        color: red;
    }


    /* the table cell that holds the name of the month and the year */
    .dpTitleTD
    {
    }


    /* a table cell that holds one of the forward/backward buttons */
    .dpButtonTD
    {
    }


    /* the table cell that holds the "This Month" or "Close" button at the bottom */
    .dpTodayButtonTD
    {
    }


    /* a table cell that holds the names of days of the week (Mo, Tu, We, etc.) */
    .dpDayTD
    {
        /*background-color: #FFFFFF;*/ /*border: 1px solid #AAAAAA;*/
        text-transform: uppercase;
        font-weight:300;
        color: #9d9d9d;
        font-size: 10px;
    }


    /* additional style information for the text that indicates the month and year */
    .dpTitleText
    {
        font-size: 18px;
        color: #fff;
        line-height: 1em;
        text-align: center;
    }


    /* additional style information for the cell that holds a highlighted day (usually either today's date or the current date field value) */
    .dpDayHighlight
    {
        /*color: 4060ff;
	font-weight: bold;*/
        color: #003399;
        text-decoration: none;
    }


    /* the forward/backward buttons at the top */
    .dpButton
    {
        font-family: Tahoma;
        font-size: 8pt;
        color: gray;
        background: #d8e8ff;
        font-weight: normal;
        padding: 0px;
    }
    .dpButtonExtra
    {
        font-family: Tahoma;
        font-size: 8pt;
        color: gray;
        background: #d8e8ff;
        font-weight: bold;
        padding: 0px;
        margin-left: -8px;
    }

    /* the "This Month" and "Close" buttons at the bottom */
    .dpTodayButton
    {
        font-family: Tahoma;
        font-size: 7pt;
        color: gray;
        background: #d8e8ff;
        font-weight: bold;
    }


    .surveyTable, .surveytd
    {
        border-color: #000000;
        border-style: solid;
        font-family: Tahoma;
        font-size: 10pt;
    }

    .surveyTable
    {
        /*border-width: 0 0 1px 1px;*/
        border-spacing: 0;
        /*border-collapse: collapse;*/
        font-family: Tahoma;
        font-size: 10pt;
    }

    .surveytd
    {
        margin: 0;
        padding: 4px;
        /*border-width: 1px 1px 0 0;*/
        font-family: Tahoma;
        font-size: 10pt;
    }

    .surveyButton
    {
        border-top: solid 1px #CCCCCC;
        background-color: #E5E5E5;
        font-family: Tahoma;
        font-size: 10pt;
    }


    #DivCalendario
    {
        position: absolute;
        top: 1px;
        width: 220px;
        display: none;
        margin-top: 10px;
        z-index: 1000;
        background: white;
    }

    #DivTexto
    {
        display: block;
        width: 200px;
    }

                      </style>
                                    <div id="ctl00_MainContent_CldFechaInicial2_UpnlSeleccionFecha">
                                        <div id="ctl00_MainContent_CldFechaInicial2_SeleccionFecha">
                                            <div class="form-group">
                            <span id="ctl00_MainContent_CldFechaInicial2_LblFecha" class="control-label" style="display:inline-block;width:230px;">
                              Fecha Inicial de Emisión *
                            </span>
                                            </div>
                                            <div class="form-group" style="display:flex;">
                                                <input name="ctl00$MainContent$CldFechaInicial2$Calendario_text" type="text" id="ctl00_MainContent_CldFechaInicial2_Calendario_text" class="form-control" disabled="disabled" dependiente="ctl00_MainContent_CldFechaFinal2"/>
                                                <span id="ctl00_MainContent_CldFechaInicial2_RvFecha" style="display:none;">
                            </span>
                                                <img id="ctl00_MainContent_CldFechaInicial2_BtnFecha2" class="icon-calendar" habilitado="true" src="/Images/Calendar.png" style="height:35px;width:35px;cursor:pointer;"/>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-md-3">
                                                    <select name="ctl00$MainContent$CldFechaInicial2$DdlHora" id="ctl00_MainContent_CldFechaInicial2_DdlHora" class="form-control" style="width:100%;">
                                                        <option selected="selected" value="0">
                                                            00
                                                        </option>
                                                        <option value="1">
                                                            01
                                                        </option>
                                                        <option value="2">
                                                            02
                                                        </option>
                                                        <option value="3">
                                                            03
                                                        </option>
                                                        <option value="4">
                                                            04
                                                        </option>
                                                        <option value="5">
                                                            05
                                                        </option>
                                                        <option value="6">
                                                            06
                                                        </option>
                                                        <option value="7">
                                                            07
                                                        </option>
                                                        <option value="8">
                                                            08
                                                        </option>
                                                        <option value="9">
                                                            09
                                                        </option>
                                                        <option value="10">
                                                            10
                                                        </option>
                                                        <option value="11">
                                                            11
                                                        </option>
                                                        <option value="12">
                                                            12
                                                        </option>
                                                        <option value="13">
                                                            13
                                                        </option>
                                                        <option value="14">
                                                            14
                                                        </option>
                                                        <option value="15">
                                                            15
                                                        </option>
                                                        <option value="16">
                                                            16
                                                        </option>
                                                        <option value="17">
                                                            17
                                                        </option>
                                                        <option value="18">
                                                            18
                                                        </option>
                                                        <option value="19">
                                                            19
                                                        </option>
                                                        <option value="20">
                                                            20
                                                        </option>
                                                        <option value="21">
                                                            21
                                                        </option>
                                                        <option value="22">
                                                            22
                                                        </option>
                                                        <option value="23">
                                                            23
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-md-1">
                                                    :
                                                </div>
                                                <div class="col-md-3">
                                                    <select name="ctl00$MainContent$CldFechaInicial2$DdlMinuto" id="ctl00_MainContent_CldFechaInicial2_DdlMinuto" class="form-control" style="width:100%;">
                                                        <option selected="selected" value="0">
                                                            00
                                                        </option>
                                                        <option value="1">
                                                            01
                                                        </option>
                                                        <option value="2">
                                                            02
                                                        </option>
                                                        <option value="3">
                                                            03
                                                        </option>
                                                        <option value="4">
                                                            04
                                                        </option>
                                                        <option value="5">
                                                            05
                                                        </option>
                                                        <option value="6">
                                                            06
                                                        </option>
                                                        <option value="7">
                                                            07
                                                        </option>
                                                        <option value="8">
                                                            08
                                                        </option>
                                                        <option value="9">
                                                            09
                                                        </option>
                                                        <option value="10">
                                                            10
                                                        </option>
                                                        <option value="11">
                                                            11
                                                        </option>
                                                        <option value="12">
                                                            12
                                                        </option>
                                                        <option value="13">
                                                            13
                                                        </option>
                                                        <option value="14">
                                                            14
                                                        </option>
                                                        <option value="15">
                                                            15
                                                        </option>
                                                        <option value="16">
                                                            16
                                                        </option>
                                                        <option value="17">
                                                            17
                                                        </option>
                                                        <option value="18">
                                                            18
                                                        </option>
                                                        <option value="19">
                                                            19
                                                        </option>
                                                        <option value="20">
                                                            20
                                                        </option>
                                                        <option value="21">
                                                            21
                                                        </option>
                                                        <option value="22">
                                                            22
                                                        </option>
                                                        <option value="23">
                                                            23
                                                        </option>
                                                        <option value="24">
                                                            24
                                                        </option>
                                                        <option value="25">
                                                            25
                                                        </option>
                                                        <option value="26">
                                                            26
                                                        </option>
                                                        <option value="27">
                                                            27
                                                        </option>
                                                        <option value="28">
                                                            28
                                                        </option>
                                                        <option value="29">
                                                            29
                                                        </option>
                                                        <option value="30">
                                                            30
                                                        </option>
                                                        <option value="31">
                                                            31
                                                        </option>
                                                        <option value="32">
                                                            32
                                                        </option>
                                                        <option value="33">
                                                            33
                                                        </option>
                                                        <option value="34">
                                                            34
                                                        </option>
                                                        <option value="35">
                                                            35
                                                        </option>
                                                        <option value="36">
                                                            36
                                                        </option>
                                                        <option value="37">
                                                            37
                                                        </option>
                                                        <option value="38">
                                                            38
                                                        </option>
                                                        <option value="39">
                                                            39
                                                        </option>
                                                        <option value="40">
                                                            40
                                                        </option>
                                                        <option value="41">
                                                            41
                                                        </option>
                                                        <option value="42">
                                                            42
                                                        </option>
                                                        <option value="43">
                                                            43
                                                        </option>
                                                        <option value="44">
                                                            44
                                                        </option>
                                                        <option value="45">
                                                            45
                                                        </option>
                                                        <option value="46">
                                                            46
                                                        </option>
                                                        <option value="47">
                                                            47
                                                        </option>
                                                        <option value="48">
                                                            48
                                                        </option>
                                                        <option value="49">
                                                            49
                                                        </option>
                                                        <option value="50">
                                                            50
                                                        </option>
                                                        <option value="51">
                                                            51
                                                        </option>
                                                        <option value="52">
                                                            52
                                                        </option>
                                                        <option value="53">
                                                            53
                                                        </option>
                                                        <option value="54">
                                                            54
                                                        </option>
                                                        <option value="55">
                                                            55
                                                        </option>
                                                        <option value="56">
                                                            56
                                                        </option>
                                                        <option value="57">
                                                            57
                                                        </option>
                                                        <option value="58">
                                                            58
                                                        </option>
                                                        <option value="59">
                                                            59
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-md-1">
                                                    :
                                                </div>
                                                <div class="col-md-3">
                                                    <select name="ctl00$MainContent$CldFechaInicial2$DdlSegundo" id="ctl00_MainContent_CldFechaInicial2_DdlSegundo" class="form-control" style="width:100%;">
                                                        <option selected="selected" value="0">
                                                            00
                                                        </option>
                                                        <option value="1">
                                                            01
                                                        </option>
                                                        <option value="2">
                                                            02
                                                        </option>
                                                        <option value="3">
                                                            03
                                                        </option>
                                                        <option value="4">
                                                            04
                                                        </option>
                                                        <option value="5">
                                                            05
                                                        </option>
                                                        <option value="6">
                                                            06
                                                        </option>
                                                        <option value="7">
                                                            07
                                                        </option>
                                                        <option value="8">
                                                            08
                                                        </option>
                                                        <option value="9">
                                                            09
                                                        </option>
                                                        <option value="10">
                                                            10
                                                        </option>
                                                        <option value="11">
                                                            11
                                                        </option>
                                                        <option value="12">
                                                            12
                                                        </option>
                                                        <option value="13">
                                                            13
                                                        </option>
                                                        <option value="14">
                                                            14
                                                        </option>
                                                        <option value="15">
                                                            15
                                                        </option>
                                                        <option value="16">
                                                            16
                                                        </option>
                                                        <option value="17">
                                                            17
                                                        </option>
                                                        <option value="18">
                                                            18
                                                        </option>
                                                        <option value="19">
                                                            19
                                                        </option>
                                                        <option value="20">
                                                            20
                                                        </option>
                                                        <option value="21">
                                                            21
                                                        </option>
                                                        <option value="22">
                                                            22
                                                        </option>
                                                        <option value="23">
                                                            23
                                                        </option>
                                                        <option value="24">
                                                            24
                                                        </option>
                                                        <option value="25">
                                                            25
                                                        </option>
                                                        <option value="26">
                                                            26
                                                        </option>
                                                        <option value="27">
                                                            27
                                                        </option>
                                                        <option value="28">
                                                            28
                                                        </option>
                                                        <option value="29">
                                                            29
                                                        </option>
                                                        <option value="30">
                                                            30
                                                        </option>
                                                        <option value="31">
                                                            31
                                                        </option>
                                                        <option value="32">
                                                            32
                                                        </option>
                                                        <option value="33">
                                                            33
                                                        </option>
                                                        <option value="34">
                                                            34
                                                        </option>
                                                        <option value="35">
                                                            35
                                                        </option>
                                                        <option value="36">
                                                            36
                                                        </option>
                                                        <option value="37">
                                                            37
                                                        </option>
                                                        <option value="38">
                                                            38
                                                        </option>
                                                        <option value="39">
                                                            39
                                                        </option>
                                                        <option value="40">
                                                            40
                                                        </option>
                                                        <option value="41">
                                                            41
                                                        </option>
                                                        <option value="42">
                                                            42
                                                        </option>
                                                        <option value="43">
                                                            43
                                                        </option>
                                                        <option value="44">
                                                            44
                                                        </option>
                                                        <option value="45">
                                                            45
                                                        </option>
                                                        <option value="46">
                                                            46
                                                        </option>
                                                        <option value="47">
                                                            47
                                                        </option>
                                                        <option value="48">
                                                            48
                                                        </option>
                                                        <option value="49">
                                                            49
                                                        </option>
                                                        <option value="50">
                                                            50
                                                        </option>
                                                        <option value="51">
                                                            51
                                                        </option>
                                                        <option value="52">
                                                            52
                                                        </option>
                                                        <option value="53">
                                                            53
                                                        </option>
                                                        <option value="54">
                                                            54
                                                        </option>
                                                        <option value="55">
                                                            55
                                                        </option>
                                                        <option value="56">
                                                            56
                                                        </option>
                                                        <option value="57">
                                                            57
                                                        </option>
                                                        <option value="58">
                                                            58
                                                        </option>
                                                        <option value="59">
                                                            59
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <script type="text/javascript" language="javascript">
//<![CDATA[

    //DataPicker


    var datePickerDivID = "datepicker";
    var iFrameDivID = "datepickeriframe";

    var dayArrayShort = new Array('DOM', 'LUN', 'MAR', 'MIE', 'JUE', 'VIE', 'SAB');
    var dayArrayMed = new Array('Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab');
    var dayArrayLong = new Array('Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado');
    var monthArrayShort = new Array('Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic');
    var monthArrayMed = new Array('Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic');
    var monthArrayLong = new Array('Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre');

    // these variables define the date formatting we're expecting and outputting.
    // If you want to use a different format by default, change the defaultDateSeparator
    // and defaultDateFormat variables either here or on your HTML page.
    var defaultDateSeparator = "/";        // common values would be "/" or "."
    var defaultDateFormat = "mdy"    // valid values are "mdy", "chadmy", and "ymd"
    var dateSeparator = defaultDateSeparator;
    var dateFormat = defaultDateFormat;
    var idCajaTexto = 'ctl00_MainContent_CldFechaInicial2_Calendario_text';

    var _CustomAction = null;

    /**
    This is the main function you'll call from the onClick event of a button.
    Normally, you'll have something like this on your HTML page:

    Start Date: <input name="StartDate">
    <input type=button value="select" onclick="displayDatePicker('StartDate');">

    That will cause the datepicker to be displayed beneath the StartDate field and
    any date that is chosen will update the value of that field. If you'd rather have the
    datepicker display beneath the button that was clicked, you can code the button
    like this:

    <input type=button value="select" onclick="displayDatePicker('StartDate', this);">

    So, pretty much, the first argument (dateFieldName) is a string representing the
    name of the field that will be modified if the user picks a date, and the second
    argument (displayBelowThisObject) is optional and represents an actual node
    on the HTML document that the datepicker should be displayed below.

    In version 1.1 of this code, the dtFormat and dtSep variables were added, allowing
    you to use a specific date format or date separator for a given call to this function.
    Normally, you'll just want to set these defaults globally with the defaultDateSeparator
    and defaultDateFormat variables, but it doesn't hurt anything to add them as optional
    parameters here. An example of use is:

    <input type=button value="select" onclick="displayDatePicker('StartDate', false, 'dmy', '.');">

    This would display the datepicker beneath the StartDate field (because the
    displayBelowThisObject parameter was false), and update the StartDate field with
    the chosen value of the datepicker using a date format of dd.mm.yyyy
    */
    function displayDatePicker(dateFieldName, displayBelowThisObject, dtFormat, dtSep) {

        var targetDateField = document.getElementById(dateFieldName);


        //    this._CustomAction = CustomAction;
        //
        // if we weren't told what node to display the datepicker beneath, just display it
        // beneath the date field we're updating


        if (!displayBelowThisObject)
        {
            displayBelowThisObject = targetDateField;
            }

        // if a date separator character was given, update the dateSeparator variable
        if (dtSep)
            dateSeparator = dtSep;
        else
            dateSeparator = defaultDateSeparator;

        // if a date format was given, update the dateFormat variable
        if (dtFormat)
            dateFormat = dtFormat;
        else
            dateFormat = defaultDateFormat;

        var x = displayBelowThisObject.offsetLeft;
        var y = displayBelowThisObject.offsetTop + displayBelowThisObject.offsetHeight;

        // deal with elements inside tables and such
        var parent = displayBelowThisObject;
        while (parent.offsetParent) {
            parent = parent.offsetParent;
            x += parent.offsetLeft;
            y += parent.offsetTop;
        }

        drawDatePicker(targetDateField, x, y);
    }


    /**
    Draw the datepicker object (which is just a table with calendar elements) at the
    specified x and y coordinates, using the targetDateField object as the input tag
    that will ultimately be populated with a date.

    This function will normally be called by the displayDatePicker function.
    */
    function drawDatePicker(targetDateField, x, y) {
        var dt = getFieldDate(targetDateField.value);

        // the datepicker table will be drawn inside of a <div> with an ID defined by the
        // global datePickerDivID variable. If such a div doesn't yet exist on the HTML
        // document we're working with, add one.
        if (!document.getElementById(datePickerDivID)) {
            // don't use innerHTML to update the body, because it can cause global variables
            // that are currently pointing to objects on the page to have bad references
            //document.body.innerHTML += "<div id='" + datePickerDivID + "' class='dpDiv'></div>";
            var newNode = document.createElement("div");
            newNode.setAttribute("id", datePickerDivID);
            newNode.setAttribute("class", "dpDiv");
            //newNode.setAttribute("style", "visibility: hidden;");
            document.body.appendChild(newNode);
        }

        // move the datepicker div to the proper x,y coordinate and toggle the visiblity
        var pickerDiv = document.getElementById(datePickerDivID);
        pickerDiv.style.position = "absolute";
        pickerDiv.style.left = x + "px";
        pickerDiv.style.top = y + "px";
        pickerDiv.style.visibility = (pickerDiv.style.visibility == "visible" ? "hidden" : "visible");
        //pickerDiv.style.visibility =  "visible";
        pickerDiv.style.display = (pickerDiv.style.display == "block" ? "none" : "block");
        pickerDiv.style.zIndex = 10000;

        // draw the datepicker table
        refreshDatePicker(targetDateField.name, dt.getFullYear(), dt.getMonth(), dt.getDate());
    }


    /**
    This is the function that actually draws the datepicker calendar.
    */
    function refreshDatePicker(dateFieldName, year, month, day) {
        // if no arguments are passed, use today's date; otherwise, month and year
        // are required (if a day is passed, it will be highlighted later)
        var thisDay = new Date();

        if ((month >= 0) && (year > 0)) {
            thisDay = new Date(year, month, 1);
        } else {
            day = thisDay.getDate();
            thisDay.setDate(1);
        }

        // the calendar will be drawn as a table
        // you can customize the table elements with a global CSS style sheet,
        // or by hardcoding style and formatting elements below
        var crlf = "\r\n";
        var TABLE = "<table cols=7 class='dpTable'>" + crlf;
        var xTABLE = "</table>" + crlf;
        var TR = "<tr class='dpTR'>";
        var TR_title = "<tr class='dpTitleTR'>";
        var TR_days = "<tr>";
        var TR_todaybutton = "<tr class='dpTodayButtonTR'>";
        var xTR = "</tr>" + crlf;
        var TD = "<td class='dpTD' onMouseOut='this.className=\"dpTD\";' onMouseOver=' this.className=\"dpTDHover\";' ";    // leave this tag open, because we'll be adding an onClick event
        var TD_title = "<td colspan=5 class='dpTitleTD'>";
        var TD_buttons = "<td class='dpButtonTD'>";
        var TD_todaybutton = "<td colspan=7 class='dpTodayButtonTD'>";
        var TD_days = "<td class='dpDayTD'>";
        var TD_selected = "<td class='dpDayHighlightTD' onMouseOut='this.className=\"dpDayHighlightTD\";' onMouseOver='this.className=\"dpTDHover\";' ";    // leave this tag open, because we'll be adding an onClick event
        var xTD = "</td>" + crlf;
        var DIV_title = "<div class='dpTitleText'>";
        var DIV_selected = "<div class='dpDayHighlight'>";
        var xDIV = "</div>";

        // start generating the code for the calendar table
        var html = TABLE;

        // this is the title bar, which displays the month and the buttons to
        // go back to a previous month or forward to the next month
        html += TR_title;
        html += TD_buttons + getButtonCode(dateFieldName, thisDay, -1, "&lt;") + xTD;
        html += TD_title + DIV_title + monthArrayLong[thisDay.getMonth()] + " " + thisDay.getFullYear() + xDIV + xTD;
        html += TD_buttons + getButtonCode(dateFieldName, thisDay, 1, "&gt;") + xTD;
        html += xTR;

        // this is the row that indicates which day of the week we're on
        html += TR_days;
        for (i = 0; i < dayArrayShort.length; i++)
            html += TD_days + dayArrayShort[i] + xTD;
        html += xTR;

        // now we'll start populating the table with days of the month
        html += TR;

        // first, the leading blanks
        for (i = 0; i < thisDay.getDay(); i++)
            html += TD + "&nbsp;" + xTD;

        // now, the days of the month
        do {
            dayNum = thisDay.getDate();
            TD_onclick = " onclick=\"updateDateField('" + dateFieldName + "', '" + getDateString(thisDay) + "');\">";

            if (dayNum == day)
                html += TD_selected + TD_onclick + DIV_selected + dayNum + xDIV + xTD;
            else
                html += TD + TD_onclick + dayNum + xTD;

            // if this is a Saturday, start a new row
            if (thisDay.getDay() == 6)
                html += xTR + TR;

            // increment the day
            thisDay.setDate(thisDay.getDate() + 1);
        } while (thisDay.getDate() > 1)

        // fill in any trailing blanks
        if (thisDay.getDay() > 0) {
            for (i = 6; i > thisDay.getDay(); i--)
                html += TD + "&nbsp;" + xTD;
        }
        html += xTR;

        // add a button to allow the user to easily return to today, or close the calendar
        var today = new Date();
        var todayString = "Today is " + dayArrayMed[today.getDay()] + ", " + monthArrayMed[today.getMonth()] + " " + today.getDate();
        html += TR_todaybutton + TD_todaybutton;
        //html += "<button class='dpTodayButton' onClick='refreshDatePicker(\"" + dateFieldName + "\");'>this month</button> ";
        html += "<button class='dpTodayButton' onClick='updateDateField(\"" + dateFieldName + "\");'>cerrar</button>";
        html += xTD + xTR;

        // and finally, close the table
        html += xTABLE;

        document.getElementById(datePickerDivID).innerHTML = html;
        // add an "iFrame shim" to allow the datepicker to display above selection lists
        adjustiFrame();
    }


    /**
    Convenience function for writing the code for the buttons that bring us back or forward
    a month.
    */
    function getButtonCode(dateFieldName, dateVal, adjust, label) {
        var newMonth = (dateVal.getMonth() + adjust) % 12;
        var newYear = dateVal.getFullYear() + parseInt((dateVal.getMonth() + adjust) / 12);
        if (newMonth < 0) {
            newMonth += 12;
            newYear += -1;
        }

        return "<button class='dpButton' onClick='refreshDatePicker(\"" + dateFieldName + "\", " + newYear + ", " + newMonth + ");'>" + label + "</button>";
    }


    /**
    Convert a JavaScript Date object to a string, based on the dateFormat and dateSeparator
    variables at the beginning of this script library.
    */
    function getDateString(dateVal) {
        var dayString = "00" + dateVal.getDate();
        var monthString = "00" + (dateVal.getMonth() + 1);
        dayString = dayString.substring(dayString.length - 2);
        monthString = monthString.substring(monthString.length - 2);

        switch (dateFormat) {
            case "dmy":
                return dayString + dateSeparator + monthString + dateSeparator + dateVal.getFullYear();
            case "ymd":
                return dateVal.getFullYear() + dateSeparator + monthString + dateSeparator + dayString;
            case "mdy":
            default:
                return monthString + dateSeparator + dayString + dateSeparator + dateVal.getFullYear();
        }
    }


    /**
    Convert a string to a JavaScript Date object.
    */
    function getFieldDate(dateString) {
        var dateVal;
        var dArray;
        var d, m, y;

        try {
            dArray = splitDateString(dateString);
            if (dArray) {
                switch (dateFormat) {
                    case "dmy":
                        d = parseInt(dArray[0], 10);
                        m = parseInt(dArray[1], 10) - 1;
                        y = parseInt(dArray[2], 10);
                        break;
                    case "ymd":
                        d = parseInt(dArray[2], 10);
                        m = parseInt(dArray[1], 10) - 1;
                        y = parseInt(dArray[0], 10);
                        break;
                    case "mdy":
                    default:
                        d = parseInt(dArray[1], 10);
                        m = parseInt(dArray[0], 10) - 1;
                        y = parseInt(dArray[2], 10);
                        break;
                }
                dateVal = new Date(y, m, d);
            } else if (dateString) {
                dateVal = new Date(dateString);
            } else {
                dateVal = new Date();
            }
        } catch (e) {
            dateVal = new Date();
        }

        return dateVal;
    }


    /**
    Try to split a date string into an array of elements, using common date separators.
    If the date is split, an array is returned; otherwise, we just return false.
    */
    function splitDateString(dateString) {
        var dArray;
        if (dateString.indexOf("/") >= 0)
            dArray = dateString.split("/");
        else if (dateString.indexOf(".") >= 0)
            dArray = dateString.split(".");
        else if (dateString.indexOf("-") >= 0)
            dArray = dateString.split("-");
        else if (dateString.indexOf("\\") >= 0)
            dArray = dateString.split("\\");
        else
            dArray = false;

        return dArray;
    }

    /**
    Update the field with the given dateFieldName with the dateString that has been passed,
    and hide the datepicker. If no dateString is passed, just close the datepicker without
    changing the field value.

    Also, if the page developer has defined a function called datePickerClosed anywhere on
    the page or in an imported library, we will attempt to run that function with the updated
    field as a parameter. This can be used for such things as date validation, setting default
    values for related fields, etc. For example, you might have a function like this to validate
    a start date field:

    function datePickerClosed(dateField)
    {
    var dateObj = getFieldDate(dateField.value);
    var today = new Date();
    today = new Date(today.getFullYear(), today.getMonth(), today.getDate());

    if (dateField.name == "StartDate") {
    if (dateObj < today) {
    // if the date is before today, alert the user and display the datepicker again
    alert("Please enter a date that is today or later");
    dateField.value = "";
    document.getElementById(datePickerDivID).style.visibility = "visible";
    adjustiFrame();
    } else {
    // if the date is okay, set the EndDate field to 7 days after the StartDate
    dateObj.setTime(dateObj.getTime() + (7 * 24 * 60 * 60 * 1000));
    var endDateField = document.getElementsByName ("EndDate").item(0);
    endDateField.value = getDateString(dateObj);
    }
    }
    }

    */

    function SetDDL(targetField, dateFieldName, dateString)
    {

        var StartDate = 2014;
        var EndDate = 2014;

        var IsInicial = dateFieldName.indexOf("FechaInicial");
        var IsFinal = dateFieldName.indexOf("FechaFinal");

        var hfInicial = document.getElementById("hfInicial");
        var hfFinal = document.getElementById("hfFinal");

        if(IsInicial > -1)
        {
            hfInicial.value = dateString;
            hfInicial.value = getFieldDate(hfInicial.value).getFullYear();
        }

        if(IsFinal > -1)
        {
            hfFinal.value = dateString;
            hfFinal.value = getFieldDate(hfFinal.value).getFullYear();
        }

        if(hfInicial.value != "")
        {
            StartDate = hfInicial.value;
        }

        if(hfFinal.value != "")
        {
            EndDate = hfFinal.value;
        }

        //var dt = getFieldDate(targetField.value);
        //var year = dt.getFullYear();
        //alert(targetField.id);
        var ddl = document.getElementById("ctl00_MainContent_ddlComplementos");

        var passed = true;

        if(StartDate < 2014 || EndDate < 2014)
        {
            passed = false;
        }

        if(!passed)
        {
            var hfInicialBool = document.getElementById("hfInicialBool");
            hfInicialBool.value = "true";

            if(ddl != null)
            {
                ddl.selectedIndex=0;
                ddl.disabled= true;
            }

        }
        if(passed)
        {
            var hfInicialBool = document.getElementById("hfInicialBool");
            hfInicialBool.value = "false";

            if(ddl != null)
                ddl.disabled= false;
        }
    }

    function updateDateField(dateFieldName, dateString) {
        var targetDateField = document.getElementsByName(dateFieldName).item(0);
        if (dateString) {

            //var Contenedor = $('#'+ dateFieldName);
            var idDependiente = '#' + $(targetDateField).attr('dependiente');
            if (false) {
                $(idDependiente + '_Calendario_text').val(dateString);

                //$(idDependiente + '_DdlHora').val("23");
                var opHora = $(idDependiente + '_DdlHora').find("option[value=23]");
                $(idDependiente + '_DdlHora').selectbox("change", opHora.attr('value'), opHora.html());

                //$(idDependiente + '_DdlMinuto').val("59");
                var opMinuto = $(idDependiente + '_DdlMinuto').find("option[value=59]");
                $(idDependiente + '_DdlMinuto').selectbox("change", opMinuto.attr('value'), opMinuto.html());

                //$(idDependiente + '_DdlSegundo').val("59");
                var opSegundo = $(idDependiente + '_DdlSegundo').find("option[value=59]");
                $(idDependiente + '_DdlSegundo').selectbox("change", opSegundo.attr('value'), opSegundo.html());

            }
            targetDateField.value = dateString;
            if (this._CustomAction != null)
                this._CustomAction(dateString);

            SetDDL(targetDateField, dateFieldName, dateString);
        }
        // targetDateField.fireEvent('onchange');



        var pickerDiv = document.getElementById(datePickerDivID);
        if(pickerDiv != null)
        {
            pickerDiv.style.visibility = "hidden";
            pickerDiv.style.display = "none";

            adjustiFrame();

            // after the datepicker has closed, optionally run a user-defined function called
            // datePickerClosed, passing the field that was just updated as a parameter
            // (note that this will only run if the user actually selected a date from the datepicker)
            if ((dateString) && (typeof (datePickerClosed) == "function"))
                datePickerClosed(targetDateField);
        }
    }


    /**
    Use an "iFrame shim" to deal with problems where the datepicker shows up behind
    selection list elements, if they're below the datepicker.
    */
    function adjustiFrame(pickerDiv, iFrameDiv) {
        // we know that Opera doesn't like something about this, so if we
        // think we're using Opera, don't even try
        var is_opera = (navigator.userAgent.toLowerCase().indexOf("opera") != -1);
        if (is_opera)
            return;

        // put a try/catch block around the whole thing, just in case
        try {
            if (!document.getElementById(iFrameDivID)) {
                // don't use innerHTML to update the body, because it can cause global variables
                // that are currently pointing to objects on the page to have bad references
                //document.body.innerHTML += "<iframe id='" + iFrameDivID + "' src='javascript:false;' scrolling='no' frameborder='0'>";
                var newNode = document.createElement("iFrame");
                newNode.setAttribute("id", iFrameDivID);
//                newNode.setAttribute("src", "javascript:false;");
                newNode.setAttribute("scrolling", "no");
                newNode.setAttribute("frameborder", "0");
                document.body.appendChild(newNode);

            }

            if (!pickerDiv)
                pickerDiv = document.getElementById(datePickerDivID);
            if (!iFrameDiv)
                iFrameDiv = document.getElementById(iFrameDivID);

            try {
                iFrameDiv.style.position = "absolute";
                iFrameDiv.style.width = pickerDiv.offsetWidth;
                iFrameDiv.style.height = pickerDiv.offsetHeight;
                iFrameDiv.style.top = pickerDiv.style.top;
                iFrameDiv.style.left = pickerDiv.style.left;
                iFrameDiv.style.zIndex = pickerDiv.style.zIndex - 1;
                iFrameDiv.style.visibility = pickerDiv.style.visibility;
                iFrameDiv.style.display = pickerDiv.style.display;
            } catch (e) {
            }

        } catch (ee) {
        }

    }
    /* Function Ends for calendar chk line 379 for doubts*/


///


    ////Define la posición en donde aparecerá el calendario.
        function DefinePosicionCalendario(NombreContenedor, NombreEtiqueta, NombreCaja) {
        var lblFecha = $(NombreEtiqueta); //Instancia de la etiqueta
        var txtFecha = $(NombreCaja); //Instancia de la caja de texto
        var TopCalendario = txtFecha.offset().top + txtFecha.height(); //Posición del calendario
        var Contenedor = $(NombreContenedor).children("#SeleccionFecha");

        Contenedor.children("#DivCalendario").css('left', txtFecha.offset().left).css('top', TopCalendario);
    }

//    ////Define las posiciones iniciales de los controles.
    function DefinePosicionInicial() {
        var lblFecha = $("#ctl00_MainContent_CldFechaInicial2_LblFecha"); //Instancia de la etiqueta
        var txtFecha = $("#" + idCajaTexto); //Instancia de la caja de texto
        var ancho = $("#DivTexto").width() + lblFecha.width(); //Se obtiene el ancho del div principal
        var LeftBotonFecha = lblFecha.position().left + lblFecha.width() + txtFecha.width(); // Se obtiene la posisición del botón
        var TopDivTexto = parseInt(lblFecha.height() / 2) - parseInt($("#DivTexto").height() / 2); //Se obtiene la posicion vertical de la caja de texto y del botón
        var Contenedor = $("#ctl00_MainContent_CldFechaInicial2_UpnlSeleccionFecha").children("#SeleccionFecha");
        Contenedor.children("#SeleccionFecha").width(ancho);
    }

    function ConfiguraCombosMac() {
        var isMac = navigator.userAgent.indexOf("Macintosh")

        if(isMac != -1)
            $(document.getElementsByClassName("calendarCombo")).css("width", "45px");
    }

    $(function() {

        DefinePosicionInicial();

        //Se establece la acción para mostrar el calendario
        $("#ctl00_MainContent_CldFechaInicial2_BtnFecha2").live('click', function() {

           if ($("#ctl00_MainContent_CldFechaInicial2_BtnFecha2").attr('habilitado') == "true") {
             var cajaTexto = $(this).parent().find(":input");
                displayDatePicker(cajaTexto.attr('id'), false, 'dmy', '/');
            }
        });
    });



//]]>
                      </script>
                                </div>
                                <div class="col-md-1">
                                </div>
                                <div class="col-md-5">
                                    <input type="hidden" name="ctl00$MainContent$hfFinal" id="hfFinal"/>
                                    <style type="text/css">



    /* the div that holds the date picker calendar */
    .dpDiv
    {
    }


    /* the table (within the div) that holds the date picker calendar */
    .dpTable
    {
        font-family: Open Sans, Helvetica Neue, Helvetica, Arial, sans-serif;
        font-size: 18px;
        line-height: 1.4285;
        text-align: center;
        color: #333;
        background-color: #fff;
        box-shadow: 0px 2px 7px rgba(0,0,0,0.2);
        border-radius: 0;
        width: 300px;
        height: 300px;
    }



    /* the top table row that holds the month, year, and forward/backward buttons */
    .dpTitleTR
    {
        background-color: #222;
    }


    /* the second table row, that holds the names of days of the week (Mo, Tu, We, etc.) */
    .dpDayTR
    {
        border-bottom: 1px solid #111;
    }


    /* a table cell that holds a date number (either blank or 1-31) */
    .dpTD
    {
        /*	border: 1px solid #ece9d8;*/
        color: #003399;
    }


    /* a table cell that holds a highlighted day (usually either today's date or the current date field value) */
    .dpDayHighlightTD
    {
        background-color: #ffdf88;
    }


    /* the date number table cell that the mouse pointer is currently over (you can use contrasting colors to make it apparent which cell is being hovered over) */
    .dpTDHover
    {
        background-color: #ffffff;
        border: 1px solid #888888;
        cursor: pointer;
        color: red;
    }


    /* the table cell that holds the name of the month and the year */
    .dpTitleTD
    {
    }


    /* a table cell that holds one of the forward/backward buttons */
    .dpButtonTD
    {
    }


    /* the table cell that holds the "This Month" or "Close" button at the bottom */
    .dpTodayButtonTD
    {
    }


    /* a table cell that holds the names of days of the week (Mo, Tu, We, etc.) */
    .dpDayTD
    {
        /*background-color: #FFFFFF;*/ /*border: 1px solid #AAAAAA;*/
        text-transform: uppercase;
        font-weight:300;
        color: #9d9d9d;
        font-size: 10px;
    }


    /* additional style information for the text that indicates the month and year */
    .dpTitleText
    {
        font-size: 18px;
        color: #fff;
        line-height: 1em;
        text-align: center;
    }


    /* additional style information for the cell that holds a highlighted day (usually either today's date or the current date field value) */
    .dpDayHighlight
    {
        /*color: 4060ff;
	font-weight: bold;*/
        color: #003399;
        text-decoration: none;
    }


    /* the forward/backward buttons at the top */
    .dpButton
    {
        font-family: Tahoma;
        font-size: 8pt;
        color: gray;
        background: #d8e8ff;
        font-weight: normal;
        padding: 0px;
    }
    .dpButtonExtra
    {
        font-family: Tahoma;
        font-size: 8pt;
        color: gray;
        background: #d8e8ff;
        font-weight: bold;
        padding: 0px;
        margin-left: -8px;
    }

    /* the "This Month" and "Close" buttons at the bottom */
    .dpTodayButton
    {
        font-family: Tahoma;
        font-size: 7pt;
        color: gray;
        background: #d8e8ff;
        font-weight: bold;
    }


    .surveyTable, .surveytd
    {
        border-color: #000000;
        border-style: solid;
        font-family: Tahoma;
        font-size: 10pt;
    }

    .surveyTable
    {
        /*border-width: 0 0 1px 1px;*/
        border-spacing: 0;
        /*border-collapse: collapse;*/
        font-family: Tahoma;
        font-size: 10pt;
    }

    .surveytd
    {
        margin: 0;
        padding: 4px;
        /*border-width: 1px 1px 0 0;*/
        font-family: Tahoma;
        font-size: 10pt;
    }

    .surveyButton
    {
        border-top: solid 1px #CCCCCC;
        background-color: #E5E5E5;
        font-family: Tahoma;
        font-size: 10pt;
    }


    #DivCalendario
    {
        position: absolute;
        top: 1px;
        width: 220px;
        display: none;
        margin-top: 10px;
        z-index: 1000;
        background: white;
    }

    #DivTexto
    {
        display: block;
        width: 200px;
    }

                      </style>
                                    <div id="ctl00_MainContent_CldFechaFinal2_UpnlSeleccionFecha">
                                        <div id="ctl00_MainContent_CldFechaFinal2_SeleccionFecha">
                                            <div class="form-group">
                            <span id="ctl00_MainContent_CldFechaFinal2_LblFecha" class="control-label" style="display:inline-block;width:230px;">
                              Fecha Final de Emisión *
                            </span>
                                            </div>
                                            <div class="form-group" style="display:flex;">
                                                <input name="ctl00$MainContent$CldFechaFinal2$Calendario_text" type="text" id="ctl00_MainContent_CldFechaFinal2_Calendario_text" class="form-control" disabled="disabled" value="01/02/2019"/>
                                                <span id="ctl00_MainContent_CldFechaFinal2_RvFecha" style="display:none;">
                            </span>
                                                <img id="ctl00_MainContent_CldFechaFinal2_BtnFecha2" class="icon-calendar" habilitado="true" src="/Images/Calendar.png" style="height:35px;width:35px;cursor:pointer;"/>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-md-3">
                                                    <select name="ctl00$MainContent$CldFechaFinal2$DdlHora" id="ctl00_MainContent_CldFechaFinal2_DdlHora" class="form-control" style="width:100%;">
                                                        <option selected="selected" value="0">
                                                            00
                                                        </option>
                                                        <option value="1">
                                                            01
                                                        </option>
                                                        <option value="2">
                                                            02
                                                        </option>
                                                        <option value="3">
                                                            03
                                                        </option>
                                                        <option value="4">
                                                            04
                                                        </option>
                                                        <option value="5">
                                                            05
                                                        </option>
                                                        <option value="6">
                                                            06
                                                        </option>
                                                        <option value="7">
                                                            07
                                                        </option>
                                                        <option value="8">
                                                            08
                                                        </option>
                                                        <option value="9">
                                                            09
                                                        </option>
                                                        <option value="10">
                                                            10
                                                        </option>
                                                        <option value="11">
                                                            11
                                                        </option>
                                                        <option value="12">
                                                            12
                                                        </option>
                                                        <option value="13">
                                                            13
                                                        </option>
                                                        <option value="14">
                                                            14
                                                        </option>
                                                        <option value="15">
                                                            15
                                                        </option>
                                                        <option value="16">
                                                            16
                                                        </option>
                                                        <option value="17">
                                                            17
                                                        </option>
                                                        <option value="18">
                                                            18
                                                        </option>
                                                        <option value="19">
                                                            19
                                                        </option>
                                                        <option value="20">
                                                            20
                                                        </option>
                                                        <option value="21">
                                                            21
                                                        </option>
                                                        <option value="22">
                                                            22
                                                        </option>
                                                        <option value="23">
                                                            23
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-md-1">
                                                    :
                                                </div>
                                                <div class="col-md-3">
                                                    <select name="ctl00$MainContent$CldFechaFinal2$DdlMinuto" id="ctl00_MainContent_CldFechaFinal2_DdlMinuto" class="form-control" style="width:100%;">
                                                        <option selected="selected" value="0">
                                                            00
                                                        </option>
                                                        <option value="1">
                                                            01
                                                        </option>
                                                        <option value="2">
                                                            02
                                                        </option>
                                                        <option value="3">
                                                            03
                                                        </option>
                                                        <option value="4">
                                                            04
                                                        </option>
                                                        <option value="5">
                                                            05
                                                        </option>
                                                        <option value="6">
                                                            06
                                                        </option>
                                                        <option value="7">
                                                            07
                                                        </option>
                                                        <option value="8">
                                                            08
                                                        </option>
                                                        <option value="9">
                                                            09
                                                        </option>
                                                        <option value="10">
                                                            10
                                                        </option>
                                                        <option value="11">
                                                            11
                                                        </option>
                                                        <option value="12">
                                                            12
                                                        </option>
                                                        <option value="13">
                                                            13
                                                        </option>
                                                        <option value="14">
                                                            14
                                                        </option>
                                                        <option value="15">
                                                            15
                                                        </option>
                                                        <option value="16">
                                                            16
                                                        </option>
                                                        <option value="17">
                                                            17
                                                        </option>
                                                        <option value="18">
                                                            18
                                                        </option>
                                                        <option value="19">
                                                            19
                                                        </option>
                                                        <option value="20">
                                                            20
                                                        </option>
                                                        <option value="21">
                                                            21
                                                        </option>
                                                        <option value="22">
                                                            22
                                                        </option>
                                                        <option value="23">
                                                            23
                                                        </option>
                                                        <option value="24">
                                                            24
                                                        </option>
                                                        <option value="25">
                                                            25
                                                        </option>
                                                        <option value="26">
                                                            26
                                                        </option>
                                                        <option value="27">
                                                            27
                                                        </option>
                                                        <option value="28">
                                                            28
                                                        </option>
                                                        <option value="29">
                                                            29
                                                        </option>
                                                        <option value="30">
                                                            30
                                                        </option>
                                                        <option value="31">
                                                            31
                                                        </option>
                                                        <option value="32">
                                                            32
                                                        </option>
                                                        <option value="33">
                                                            33
                                                        </option>
                                                        <option value="34">
                                                            34
                                                        </option>
                                                        <option value="35">
                                                            35
                                                        </option>
                                                        <option value="36">
                                                            36
                                                        </option>
                                                        <option value="37">
                                                            37
                                                        </option>
                                                        <option value="38">
                                                            38
                                                        </option>
                                                        <option value="39">
                                                            39
                                                        </option>
                                                        <option value="40">
                                                            40
                                                        </option>
                                                        <option value="41">
                                                            41
                                                        </option>
                                                        <option value="42">
                                                            42
                                                        </option>
                                                        <option value="43">
                                                            43
                                                        </option>
                                                        <option value="44">
                                                            44
                                                        </option>
                                                        <option value="45">
                                                            45
                                                        </option>
                                                        <option value="46">
                                                            46
                                                        </option>
                                                        <option value="47">
                                                            47
                                                        </option>
                                                        <option value="48">
                                                            48
                                                        </option>
                                                        <option value="49">
                                                            49
                                                        </option>
                                                        <option value="50">
                                                            50
                                                        </option>
                                                        <option value="51">
                                                            51
                                                        </option>
                                                        <option value="52">
                                                            52
                                                        </option>
                                                        <option value="53">
                                                            53
                                                        </option>
                                                        <option value="54">
                                                            54
                                                        </option>
                                                        <option value="55">
                                                            55
                                                        </option>
                                                        <option value="56">
                                                            56
                                                        </option>
                                                        <option value="57">
                                                            57
                                                        </option>
                                                        <option value="58">
                                                            58
                                                        </option>
                                                        <option value="59">
                                                            59
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-md-1">
                                                    :
                                                </div>
                                                <div class="col-md-3">
                                                    <select name="ctl00$MainContent$CldFechaFinal2$DdlSegundo" id="ctl00_MainContent_CldFechaFinal2_DdlSegundo" class="form-control" style="width:100%;">
                                                        <option selected="selected" value="0">
                                                            00
                                                        </option>
                                                        <option value="1">
                                                            01
                                                        </option>
                                                        <option value="2">
                                                            02
                                                        </option>
                                                        <option value="3">
                                                            03
                                                        </option>
                                                        <option value="4">
                                                            04
                                                        </option>
                                                        <option value="5">
                                                            05
                                                        </option>
                                                        <option value="6">
                                                            06
                                                        </option>
                                                        <option value="7">
                                                            07
                                                        </option>
                                                        <option value="8">
                                                            08
                                                        </option>
                                                        <option value="9">
                                                            09
                                                        </option>
                                                        <option value="10">
                                                            10
                                                        </option>
                                                        <option value="11">
                                                            11
                                                        </option>
                                                        <option value="12">
                                                            12
                                                        </option>
                                                        <option value="13">
                                                            13
                                                        </option>
                                                        <option value="14">
                                                            14
                                                        </option>
                                                        <option value="15">
                                                            15
                                                        </option>
                                                        <option value="16">
                                                            16
                                                        </option>
                                                        <option value="17">
                                                            17
                                                        </option>
                                                        <option value="18">
                                                            18
                                                        </option>
                                                        <option value="19">
                                                            19
                                                        </option>
                                                        <option value="20">
                                                            20
                                                        </option>
                                                        <option value="21">
                                                            21
                                                        </option>
                                                        <option value="22">
                                                            22
                                                        </option>
                                                        <option value="23">
                                                            23
                                                        </option>
                                                        <option value="24">
                                                            24
                                                        </option>
                                                        <option value="25">
                                                            25
                                                        </option>
                                                        <option value="26">
                                                            26
                                                        </option>
                                                        <option value="27">
                                                            27
                                                        </option>
                                                        <option value="28">
                                                            28
                                                        </option>
                                                        <option value="29">
                                                            29
                                                        </option>
                                                        <option value="30">
                                                            30
                                                        </option>
                                                        <option value="31">
                                                            31
                                                        </option>
                                                        <option value="32">
                                                            32
                                                        </option>
                                                        <option value="33">
                                                            33
                                                        </option>
                                                        <option value="34">
                                                            34
                                                        </option>
                                                        <option value="35">
                                                            35
                                                        </option>
                                                        <option value="36">
                                                            36
                                                        </option>
                                                        <option value="37">
                                                            37
                                                        </option>
                                                        <option value="38">
                                                            38
                                                        </option>
                                                        <option value="39">
                                                            39
                                                        </option>
                                                        <option value="40">
                                                            40
                                                        </option>
                                                        <option value="41">
                                                            41
                                                        </option>
                                                        <option value="42">
                                                            42
                                                        </option>
                                                        <option value="43">
                                                            43
                                                        </option>
                                                        <option value="44">
                                                            44
                                                        </option>
                                                        <option value="45">
                                                            45
                                                        </option>
                                                        <option value="46">
                                                            46
                                                        </option>
                                                        <option value="47">
                                                            47
                                                        </option>
                                                        <option value="48">
                                                            48
                                                        </option>
                                                        <option value="49">
                                                            49
                                                        </option>
                                                        <option value="50">
                                                            50
                                                        </option>
                                                        <option value="51">
                                                            51
                                                        </option>
                                                        <option value="52">
                                                            52
                                                        </option>
                                                        <option value="53">
                                                            53
                                                        </option>
                                                        <option value="54">
                                                            54
                                                        </option>
                                                        <option value="55">
                                                            55
                                                        </option>
                                                        <option value="56">
                                                            56
                                                        </option>
                                                        <option value="57">
                                                            57
                                                        </option>
                                                        <option value="58">
                                                            58
                                                        </option>
                                                        <option value="59">
                                                            59
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <script type="text/javascript" language="javascript">
//<![CDATA[

    //DataPicker


    var datePickerDivID = "datepicker";
    var iFrameDivID = "datepickeriframe";

    var dayArrayShort = new Array('DOM', 'LUN', 'MAR', 'MIE', 'JUE', 'VIE', 'SAB');
    var dayArrayMed = new Array('Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab');
    var dayArrayLong = new Array('Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado');
    var monthArrayShort = new Array('Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic');
    var monthArrayMed = new Array('Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic');
    var monthArrayLong = new Array('Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre');

    // these variables define the date formatting we're expecting and outputting.
    // If you want to use a different format by default, change the defaultDateSeparator
    // and defaultDateFormat variables either here or on your HTML page.
    var defaultDateSeparator = "/";        // common values would be "/" or "."
    var defaultDateFormat = "mdy"    // valid values are "mdy", "chadmy", and "ymd"
    var dateSeparator = defaultDateSeparator;
    var dateFormat = defaultDateFormat;
    var idCajaTexto = 'ctl00_MainContent_CldFechaFinal2_Calendario_text';

    var _CustomAction = null;

    /**
    This is the main function you'll call from the onClick event of a button.
    Normally, you'll have something like this on your HTML page:

    Start Date: <input name="StartDate">
    <input type=button value="select" onclick="displayDatePicker('StartDate');">

    That will cause the datepicker to be displayed beneath the StartDate field and
    any date that is chosen will update the value of that field. If you'd rather have the
    datepicker display beneath the button that was clicked, you can code the button
    like this:

    <input type=button value="select" onclick="displayDatePicker('StartDate', this);">

    So, pretty much, the first argument (dateFieldName) is a string representing the
    name of the field that will be modified if the user picks a date, and the second
    argument (displayBelowThisObject) is optional and represents an actual node
    on the HTML document that the datepicker should be displayed below.

    In version 1.1 of this code, the dtFormat and dtSep variables were added, allowing
    you to use a specific date format or date separator for a given call to this function.
    Normally, you'll just want to set these defaults globally with the defaultDateSeparator
    and defaultDateFormat variables, but it doesn't hurt anything to add them as optional
    parameters here. An example of use is:

    <input type=button value="select" onclick="displayDatePicker('StartDate', false, 'dmy', '.');">

    This would display the datepicker beneath the StartDate field (because the
    displayBelowThisObject parameter was false), and update the StartDate field with
    the chosen value of the datepicker using a date format of dd.mm.yyyy
    */
    function displayDatePicker(dateFieldName, displayBelowThisObject, dtFormat, dtSep) {

        var targetDateField = document.getElementById(dateFieldName);


        //    this._CustomAction = CustomAction;
        //
        // if we weren't told what node to display the datepicker beneath, just display it
        // beneath the date field we're updating


        if (!displayBelowThisObject)
        {
            displayBelowThisObject = targetDateField;
            }

        // if a date separator character was given, update the dateSeparator variable
        if (dtSep)
            dateSeparator = dtSep;
        else
            dateSeparator = defaultDateSeparator;

        // if a date format was given, update the dateFormat variable
        if (dtFormat)
            dateFormat = dtFormat;
        else
            dateFormat = defaultDateFormat;

        var x = displayBelowThisObject.offsetLeft;
        var y = displayBelowThisObject.offsetTop + displayBelowThisObject.offsetHeight;

        // deal with elements inside tables and such
        var parent = displayBelowThisObject;
        while (parent.offsetParent) {
            parent = parent.offsetParent;
            x += parent.offsetLeft;
            y += parent.offsetTop;
        }

        drawDatePicker(targetDateField, x, y);
    }


    /**
    Draw the datepicker object (which is just a table with calendar elements) at the
    specified x and y coordinates, using the targetDateField object as the input tag
    that will ultimately be populated with a date.

    This function will normally be called by the displayDatePicker function.
    */
    function drawDatePicker(targetDateField, x, y) {
        var dt = getFieldDate(targetDateField.value);

        // the datepicker table will be drawn inside of a <div> with an ID defined by the
        // global datePickerDivID variable. If such a div doesn't yet exist on the HTML
        // document we're working with, add one.
        if (!document.getElementById(datePickerDivID)) {
            // don't use innerHTML to update the body, because it can cause global variables
            // that are currently pointing to objects on the page to have bad references
            //document.body.innerHTML += "<div id='" + datePickerDivID + "' class='dpDiv'></div>";
            var newNode = document.createElement("div");
            newNode.setAttribute("id", datePickerDivID);
            newNode.setAttribute("class", "dpDiv");
            //newNode.setAttribute("style", "visibility: hidden;");
            document.body.appendChild(newNode);
        }

        // move the datepicker div to the proper x,y coordinate and toggle the visiblity
        var pickerDiv = document.getElementById(datePickerDivID);
        pickerDiv.style.position = "absolute";
        pickerDiv.style.left = x + "px";
        pickerDiv.style.top = y + "px";
        pickerDiv.style.visibility = (pickerDiv.style.visibility == "visible" ? "hidden" : "visible");
        //pickerDiv.style.visibility =  "visible";
        pickerDiv.style.display = (pickerDiv.style.display == "block" ? "none" : "block");
        pickerDiv.style.zIndex = 10000;

        // draw the datepicker table
        refreshDatePicker(targetDateField.name, dt.getFullYear(), dt.getMonth(), dt.getDate());
    }


    /**
    This is the function that actually draws the datepicker calendar.
    */
    function refreshDatePicker(dateFieldName, year, month, day) {
        // if no arguments are passed, use today's date; otherwise, month and year
        // are required (if a day is passed, it will be highlighted later)
        var thisDay = new Date();

        if ((month >= 0) && (year > 0)) {
            thisDay = new Date(year, month, 1);
        } else {
            day = thisDay.getDate();
            thisDay.setDate(1);
        }

        // the calendar will be drawn as a table
        // you can customize the table elements with a global CSS style sheet,
        // or by hardcoding style and formatting elements below
        var crlf = "\r\n";
        var TABLE = "<table cols=7 class='dpTable'>" + crlf;
        var xTABLE = "</table>" + crlf;
        var TR = "<tr class='dpTR'>";
        var TR_title = "<tr class='dpTitleTR'>";
        var TR_days = "<tr>";
        var TR_todaybutton = "<tr class='dpTodayButtonTR'>";
        var xTR = "</tr>" + crlf;
        var TD = "<td class='dpTD' onMouseOut='this.className=\"dpTD\";' onMouseOver=' this.className=\"dpTDHover\";' ";    // leave this tag open, because we'll be adding an onClick event
        var TD_title = "<td colspan=5 class='dpTitleTD'>";
        var TD_buttons = "<td class='dpButtonTD'>";
        var TD_todaybutton = "<td colspan=7 class='dpTodayButtonTD'>";
        var TD_days = "<td class='dpDayTD'>";
        var TD_selected = "<td class='dpDayHighlightTD' onMouseOut='this.className=\"dpDayHighlightTD\";' onMouseOver='this.className=\"dpTDHover\";' ";    // leave this tag open, because we'll be adding an onClick event
        var xTD = "</td>" + crlf;
        var DIV_title = "<div class='dpTitleText'>";
        var DIV_selected = "<div class='dpDayHighlight'>";
        var xDIV = "</div>";

        // start generating the code for the calendar table
        var html = TABLE;

        // this is the title bar, which displays the month and the buttons to
        // go back to a previous month or forward to the next month
        html += TR_title;
        html += TD_buttons + getButtonCode(dateFieldName, thisDay, -1, "&lt;") + xTD;
        html += TD_title + DIV_title + monthArrayLong[thisDay.getMonth()] + " " + thisDay.getFullYear() + xDIV + xTD;
        html += TD_buttons + getButtonCode(dateFieldName, thisDay, 1, "&gt;") + xTD;
        html += xTR;

        // this is the row that indicates which day of the week we're on
        html += TR_days;
        for (i = 0; i < dayArrayShort.length; i++)
            html += TD_days + dayArrayShort[i] + xTD;
        html += xTR;

        // now we'll start populating the table with days of the month
        html += TR;

        // first, the leading blanks
        for (i = 0; i < thisDay.getDay(); i++)
            html += TD + "&nbsp;" + xTD;

        // now, the days of the month
        do {
            dayNum = thisDay.getDate();
            TD_onclick = " onclick=\"updateDateField('" + dateFieldName + "', '" + getDateString(thisDay) + "');\">";

            if (dayNum == day)
                html += TD_selected + TD_onclick + DIV_selected + dayNum + xDIV + xTD;
            else
                html += TD + TD_onclick + dayNum + xTD;

            // if this is a Saturday, start a new row
            if (thisDay.getDay() == 6)
                html += xTR + TR;

            // increment the day
            thisDay.setDate(thisDay.getDate() + 1);
        } while (thisDay.getDate() > 1)

        // fill in any trailing blanks
        if (thisDay.getDay() > 0) {
            for (i = 6; i > thisDay.getDay(); i--)
                html += TD + "&nbsp;" + xTD;
        }
        html += xTR;

        // add a button to allow the user to easily return to today, or close the calendar
        var today = new Date();
        var todayString = "Today is " + dayArrayMed[today.getDay()] + ", " + monthArrayMed[today.getMonth()] + " " + today.getDate();
        html += TR_todaybutton + TD_todaybutton;
        //html += "<button class='dpTodayButton' onClick='refreshDatePicker(\"" + dateFieldName + "\");'>this month</button> ";
        html += "<button class='dpTodayButton' onClick='updateDateField(\"" + dateFieldName + "\");'>cerrar</button>";
        html += xTD + xTR;

        // and finally, close the table
        html += xTABLE;

        document.getElementById(datePickerDivID).innerHTML = html;
        // add an "iFrame shim" to allow the datepicker to display above selection lists
        adjustiFrame();
    }


    /**
    Convenience function for writing the code for the buttons that bring us back or forward
    a month.
    */
    function getButtonCode(dateFieldName, dateVal, adjust, label) {
        var newMonth = (dateVal.getMonth() + adjust) % 12;
        var newYear = dateVal.getFullYear() + parseInt((dateVal.getMonth() + adjust) / 12);
        if (newMonth < 0) {
            newMonth += 12;
            newYear += -1;
        }

        return "<button class='dpButton' onClick='refreshDatePicker(\"" + dateFieldName + "\", " + newYear + ", " + newMonth + ");'>" + label + "</button>";
    }


    /**
    Convert a JavaScript Date object to a string, based on the dateFormat and dateSeparator
    variables at the beginning of this script library.
    */
    function getDateString(dateVal) {
        var dayString = "00" + dateVal.getDate();
        var monthString = "00" + (dateVal.getMonth() + 1);
        dayString = dayString.substring(dayString.length - 2);
        monthString = monthString.substring(monthString.length - 2);

        switch (dateFormat) {
            case "dmy":
                return dayString + dateSeparator + monthString + dateSeparator + dateVal.getFullYear();
            case "ymd":
                return dateVal.getFullYear() + dateSeparator + monthString + dateSeparator + dayString;
            case "mdy":
            default:
                return monthString + dateSeparator + dayString + dateSeparator + dateVal.getFullYear();
        }
    }


    /**
    Convert a string to a JavaScript Date object.
    */
    function getFieldDate(dateString) {
        var dateVal;
        var dArray;
        var d, m, y;

        try {
            dArray = splitDateString(dateString);
            if (dArray) {
                switch (dateFormat) {
                    case "dmy":
                        d = parseInt(dArray[0], 10);
                        m = parseInt(dArray[1], 10) - 1;
                        y = parseInt(dArray[2], 10);
                        break;
                    case "ymd":
                        d = parseInt(dArray[2], 10);
                        m = parseInt(dArray[1], 10) - 1;
                        y = parseInt(dArray[0], 10);
                        break;
                    case "mdy":
                    default:
                        d = parseInt(dArray[1], 10);
                        m = parseInt(dArray[0], 10) - 1;
                        y = parseInt(dArray[2], 10);
                        break;
                }
                dateVal = new Date(y, m, d);
            } else if (dateString) {
                dateVal = new Date(dateString);
            } else {
                dateVal = new Date();
            }
        } catch (e) {
            dateVal = new Date();
        }

        return dateVal;
    }


    /**
    Try to split a date string into an array of elements, using common date separators.
    If the date is split, an array is returned; otherwise, we just return false.
    */
    function splitDateString(dateString) {
        var dArray;
        if (dateString.indexOf("/") >= 0)
            dArray = dateString.split("/");
        else if (dateString.indexOf(".") >= 0)
            dArray = dateString.split(".");
        else if (dateString.indexOf("-") >= 0)
            dArray = dateString.split("-");
        else if (dateString.indexOf("\\") >= 0)
            dArray = dateString.split("\\");
        else
            dArray = false;

        return dArray;
    }

    /**
    Update the field with the given dateFieldName with the dateString that has been passed,
    and hide the datepicker. If no dateString is passed, just close the datepicker without
    changing the field value.

    Also, if the page developer has defined a function called datePickerClosed anywhere on
    the page or in an imported library, we will attempt to run that function with the updated
    field as a parameter. This can be used for such things as date validation, setting default
    values for related fields, etc. For example, you might have a function like this to validate
    a start date field:

    function datePickerClosed(dateField)
    {
    var dateObj = getFieldDate(dateField.value);
    var today = new Date();
    today = new Date(today.getFullYear(), today.getMonth(), today.getDate());

    if (dateField.name == "StartDate") {
    if (dateObj < today) {
    // if the date is before today, alert the user and display the datepicker again
    alert("Please enter a date that is today or later");
    dateField.value = "";
    document.getElementById(datePickerDivID).style.visibility = "visible";
    adjustiFrame();
    } else {
    // if the date is okay, set the EndDate field to 7 days after the StartDate
    dateObj.setTime(dateObj.getTime() + (7 * 24 * 60 * 60 * 1000));
    var endDateField = document.getElementsByName ("EndDate").item(0);
    endDateField.value = getDateString(dateObj);
    }
    }
    }

    */

    function SetDDL(targetField, dateFieldName, dateString)
    {

        var StartDate = 2014;
        var EndDate = 2014;

        var IsInicial = dateFieldName.indexOf("FechaInicial");
        var IsFinal = dateFieldName.indexOf("FechaFinal");

        var hfInicial = document.getElementById("hfInicial");
        var hfFinal = document.getElementById("hfFinal");

        if(IsInicial > -1)
        {
            hfInicial.value = dateString;
            hfInicial.value = getFieldDate(hfInicial.value).getFullYear();
        }

        if(IsFinal > -1)
        {
            hfFinal.value = dateString;
            hfFinal.value = getFieldDate(hfFinal.value).getFullYear();
        }

        if(hfInicial.value != "")
        {
            StartDate = hfInicial.value;
        }

        if(hfFinal.value != "")
        {
            EndDate = hfFinal.value;
        }

        //var dt = getFieldDate(targetField.value);
        //var year = dt.getFullYear();
        //alert(targetField.id);
        var ddl = document.getElementById("ctl00_MainContent_ddlComplementos");

        var passed = true;

        if(StartDate < 2014 || EndDate < 2014)
        {
            passed = false;
        }

        if(!passed)
        {
            var hfInicialBool = document.getElementById("hfInicialBool");
            hfInicialBool.value = "true";

            if(ddl != null)
            {
                ddl.selectedIndex=0;
                ddl.disabled= true;
            }

        }
        if(passed)
        {
            var hfInicialBool = document.getElementById("hfInicialBool");
            hfInicialBool.value = "false";

            if(ddl != null)
                ddl.disabled= false;
        }
    }

    function updateDateField(dateFieldName, dateString) {
        var targetDateField = document.getElementsByName(dateFieldName).item(0);
        if (dateString) {

            //var Contenedor = $('#'+ dateFieldName);
            var idDependiente = '#' + $(targetDateField).attr('dependiente');
            if (true) {
                $(idDependiente + '_Calendario_text').val(dateString);

                //$(idDependiente + '_DdlHora').val("23");
                var opHora = $(idDependiente + '_DdlHora').find("option[value=23]");
                $(idDependiente + '_DdlHora').selectbox("change", opHora.attr('value'), opHora.html());

                //$(idDependiente + '_DdlMinuto').val("59");
                var opMinuto = $(idDependiente + '_DdlMinuto').find("option[value=59]");
                $(idDependiente + '_DdlMinuto').selectbox("change", opMinuto.attr('value'), opMinuto.html());

                //$(idDependiente + '_DdlSegundo').val("59");
                var opSegundo = $(idDependiente + '_DdlSegundo').find("option[value=59]");
                $(idDependiente + '_DdlSegundo').selectbox("change", opSegundo.attr('value'), opSegundo.html());

            }
            targetDateField.value = dateString;
            if (this._CustomAction != null)
                this._CustomAction(dateString);

            SetDDL(targetDateField, dateFieldName, dateString);
        }
        // targetDateField.fireEvent('onchange');



        var pickerDiv = document.getElementById(datePickerDivID);
        if(pickerDiv != null)
        {
            pickerDiv.style.visibility = "hidden";
            pickerDiv.style.display = "none";

            adjustiFrame();

            // after the datepicker has closed, optionally run a user-defined function called
            // datePickerClosed, passing the field that was just updated as a parameter
            // (note that this will only run if the user actually selected a date from the datepicker)
            if ((dateString) && (typeof (datePickerClosed) == "function"))
                datePickerClosed(targetDateField);
        }
    }


    /**
    Use an "iFrame shim" to deal with problems where the datepicker shows up behind
    selection list elements, if they're below the datepicker.
    */
    function adjustiFrame(pickerDiv, iFrameDiv) {
        // we know that Opera doesn't like something about this, so if we
        // think we're using Opera, don't even try
        var is_opera = (navigator.userAgent.toLowerCase().indexOf("opera") != -1);
        if (is_opera)
            return;

        // put a try/catch block around the whole thing, just in case
        try {
            if (!document.getElementById(iFrameDivID)) {
                // don't use innerHTML to update the body, because it can cause global variables
                // that are currently pointing to objects on the page to have bad references
                //document.body.innerHTML += "<iframe id='" + iFrameDivID + "' src='javascript:false;' scrolling='no' frameborder='0'>";
                var newNode = document.createElement("iFrame");
                newNode.setAttribute("id", iFrameDivID);
//                newNode.setAttribute("src", "javascript:false;");
                newNode.setAttribute("scrolling", "no");
                newNode.setAttribute("frameborder", "0");
                document.body.appendChild(newNode);

            }

            if (!pickerDiv)
                pickerDiv = document.getElementById(datePickerDivID);
            if (!iFrameDiv)
                iFrameDiv = document.getElementById(iFrameDivID);

            try {
                iFrameDiv.style.position = "absolute";
                iFrameDiv.style.width = pickerDiv.offsetWidth;
                iFrameDiv.style.height = pickerDiv.offsetHeight;
                iFrameDiv.style.top = pickerDiv.style.top;
                iFrameDiv.style.left = pickerDiv.style.left;
                iFrameDiv.style.zIndex = pickerDiv.style.zIndex - 1;
                iFrameDiv.style.visibility = pickerDiv.style.visibility;
                iFrameDiv.style.display = pickerDiv.style.display;
            } catch (e) {
            }

        } catch (ee) {
        }

    }
    /* Function Ends for calendar chk line 379 for doubts*/


///


    ////Define la posición en donde aparecerá el calendario.
        function DefinePosicionCalendario(NombreContenedor, NombreEtiqueta, NombreCaja) {
        var lblFecha = $(NombreEtiqueta); //Instancia de la etiqueta
        var txtFecha = $(NombreCaja); //Instancia de la caja de texto
        var TopCalendario = txtFecha.offset().top + txtFecha.height(); //Posición del calendario
        var Contenedor = $(NombreContenedor).children("#SeleccionFecha");

        Contenedor.children("#DivCalendario").css('left', txtFecha.offset().left).css('top', TopCalendario);
    }

//    ////Define las posiciones iniciales de los controles.
    function DefinePosicionInicial() {
        var lblFecha = $("#ctl00_MainContent_CldFechaFinal2_LblFecha"); //Instancia de la etiqueta
        var txtFecha = $("#" + idCajaTexto); //Instancia de la caja de texto
        var ancho = $("#DivTexto").width() + lblFecha.width(); //Se obtiene el ancho del div principal
        var LeftBotonFecha = lblFecha.position().left + lblFecha.width() + txtFecha.width(); // Se obtiene la posisición del botón
        var TopDivTexto = parseInt(lblFecha.height() / 2) - parseInt($("#DivTexto").height() / 2); //Se obtiene la posicion vertical de la caja de texto y del botón
        var Contenedor = $("#ctl00_MainContent_CldFechaFinal2_UpnlSeleccionFecha").children("#SeleccionFecha");
        Contenedor.children("#SeleccionFecha").width(ancho);
    }

    function ConfiguraCombosMac() {
        var isMac = navigator.userAgent.indexOf("Macintosh")

        if(isMac != -1)
            $(document.getElementsByClassName("calendarCombo")).css("width", "45px");
    }

    $(function() {

        DefinePosicionInicial();

        //Se establece la acción para mostrar el calendario
        $("#ctl00_MainContent_CldFechaFinal2_BtnFecha2").live('click', function() {

           if ($("#ctl00_MainContent_CldFechaFinal2_BtnFecha2").attr('habilitado') == "true") {
             var cajaTexto = $(this).parent().find(":input");
                displayDatePicker(cajaTexto.attr('id'), false, 'dmy', '/');
            }
        });
    });



//]]>
                      </script>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="col-sm-6">
                      <span id="ctl00_MainContent_LblRfcReceptor" class="control-label">
                        RFC Receptor
                      </span>
                                </div>
                                <div class="col-sm-6">
                      <span id="ctl00_MainContent_LblEstado" class="control-label">
                        Estado del Comprobante
                      </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="col-sm-6">
                                    <input name="ctl00$MainContent$TxtRfcReceptor" type="text" maxlength="13" id="ctl00_MainContent_TxtRfcReceptor" class="form-control" style="width:100%;"/>
                                </div>
                                <div class="col-sm-6">
                                    <select name="ctl00$MainContent$DdlEstadoComprobante" id="ctl00_MainContent_DdlEstadoComprobante" class="form-control" onchange="jsEstadoComprobante(this);" style="width:100%;">
                                        <option value="-1" selected="selected">
                                            Seleccione un valor...
                                        </option>
                                        <option value="0">
                                            Cancelado
                                        </option>
                                        <option value="1">
                                            Vigente
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="col-sm-6">
                      <span id="ctl00_MainContent_lblComplementos" class="control-label">
                        Tipo de Comprobante (Complemento)
                      </span>
                                </div>
                                <div id="DivlblEstatusCancelacion" style="display: none;" class="col-sm-6">
                      <span id="ctl00_MainContent_lblEstatusCancelacion" class="control-label">
                        Estatus Cancelación
                      </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <div class="col-sm-6">
                                    <select name="ctl00$MainContent$ddlComplementos" id="ddlComplementos" class="form-control" style="width:100%;">
                                        <option selected="selected" value="-1">
                                            Seleccione un valor...
                                        </option>
                                        <option value="8">
                                            Estándar
                                        </option>
                                        <option value="4294967296">
                                            Acreditamiento de IEPS
                                        </option>
                                        <option value="8388608">
                                            Aerolíneas
                                        </option>
                                        <option value="1073741824">
                                            Certificado de Destrucción
                                        </option>
                                        <option value="17179869184">
                                            Comercio Exterior
                                        </option>
                                        <option value="274877906944">
                                            Comercio Exterior 1.1
                                        </option>
                                        <option value="4">
                                            Compra Venta de Divisas
                                        </option>
                                        <option value="16777216">
                                            Consumo de Combustibles
                                        </option>
                                        <option value="8796093022208">
                                            Consumo De Combustibles 1.1
                                        </option>
                                        <option value="64">
                                            Donatarias
                                        </option>
                                        <option value="256">
                                            Estado De Cuenta Bancario
                                        </option>
                                        <option value="4398046511104">
                                            Estado de Cuenta Combustibles 1.2
                                        </option>
                                        <option value="8589934592">
                                            Estado de cuenta de combustibles de monederos electrónicos.
                                        </option>
                                        <option value="17592186044416">
                                            Gastos de Hidrocarburos
                                        </option>
                                        <option value="68719476736">
                                            INE 1.1
                                        </option>
                                        <option value="35184372088832">
                                            Ingresos de Hidrocarburos
                                        </option>
                                        <option value="1024">
                                            Instituciones Educativas Privadas (Pago de colegiatura)
                                        </option>
                                        <option value="4096">
                                            Leyendas Fiscales
                                        </option>
                                        <option value="524288">
                                            Mis Cuentas
                                        </option>
                                        <option value="67108864">
                                            Notarios Públicos
                                        </option>
                                        <option value="536870912">
                                            Obras de artes y antigüedades
                                        </option>
                                        <option value="2048">
                                            Otros Derechos e Impuestos
                                        </option>
                                        <option value="4194304">
                                            Pago en Especie
                                        </option>
                                        <option value="8192">
                                            Persona Física Integrante de Coordinado
                                        </option>
                                        <option value="549755813888">
                                            Recepción de Pagos
                                        </option>
                                        <option value="128">
                                            Recibo de donativo
                                        </option>
                                        <option value="1048576">
                                            Recibo de Pago de Salarios
                                        </option>
                                        <option value="137438953472">
                                            Recibo de Pago de Salarios 1.2
                                        </option>
                                        <option value="32">
                                            Sector de Ventas al Detalle (Detallista)
                                        </option>
                                        <option value="268435456">
                                            Servicios de construcción
                                        </option>
                                        <option value="16384">
                                            SPEI de Tercero a Tercero
                                        </option>
                                        <option value="2147483648">
                                            Sustitución y renovación vehicular
                                        </option>
                                        <option value="32768">
                                            Terceros
                                        </option>
                                        <option value="65536">
                                            Terceros
                                        </option>
                                        <option value="2199023255552">
                                            Timbre Fiscal Digital
                                        </option>
                                        <option value="16">
                                            Turista o Pasajero Extranjero
                                        </option>
                                        <option value="33554432">
                                            Vales de Despensa
                                        </option>
                                        <option value="134217728">
                                            Vehículo Usado
                                        </option>
                                        <option value="2097152">
                                            Venta de Vehiculos
                                        </option>
                                    </select>
                                    <small class="form-text">
                                        (Criterio de búsqueda aplicable a CFDI emitidas a partir del 01/01/2014)
                                    </small>
                                </div>
                                <div id="DivddlVigente" style="display: none;" class="col-sm-6">
                                    <select name="ctl00$MainContent$ddlVigente" id="ddlVigente" class="form-control" align="left" style="width:100%;">
                                        <option selected="selected" value="0">
                                            Seleccione un valor...
                                        </option>
                                        <option value="1">
                                            En Proceso
                                        </option>
                                        <option value="4">
                                            Rechazada
                                        </option>
                                        <option value="5">
                                            Plazo vencido
                                        </option>
                                        <option value="-1">
                                            Sin proceso
                                        </option>
                                    </select>
                                </div>
                                <div id="DivddlCancelado" style="display: none;" class="col-sm-6">
                                    <select name="ctl00$MainContent$ddlCancelado" id="ddlCancelado" class="form-control" align="left" style="width:100%;">
                                        <option selected="selected" value="0">
                                            Seleccione un valor...
                                        </option>
                                        <option value="2">
                                            Cancelado con aceptación
                                        </option>
                                        <option value="3">
                                            Cancelado sin aceptación
                                        </option>
                                        <option value="5">
                                            Plazo vencido
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix">
                            <div class="pull-left text-muted text-vertical-align-button">

                                * Campos obligatorios

                            </div>
                            <div class="pull-right">
                                <input type="hidden" name="ctl00$MainContent$hfDatos" id="hfDatos"/>
                                <input type="hidden" name="ctl00$MainContent$hfFlag" id="hfFlag"/>
                                <input type="hidden" name="ctl00$MainContent$hfAux" id="hfAux"/>
                                <input type="hidden" name="ctl00$MainContent$hfDescarga" id="hfDescarga"/>
                                <input type="hidden" name="ctl00$MainContent$hfCancelacion" id="hfCancelacion"/>
                                <input type="hidden" name="ctl00$MainContent$hfUrlDescarga" id="hfUrlDescarga"/>
                                <input type="submit" name="ctl00$MainContent$BtnBusqueda" value="Buscar CFDI" onclick="ocultaResultados();WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$MainContent$BtnBusqueda&quot;, &quot;&quot;, true, &quot;Fechas&quot;, &quot;&quot;, false, false))" id="ctl00_MainContent_BtnBusqueda" class="btn btn-primary"/>
                            </div>
                        </div>
                        <div class="busqueda">
                            <div style="vertical-align: top" class="erroruuid">
                            </div>
                            <br/>
                            <div id="ctl00_MainContent_ValidationSummary1" class="errores" style="display:none;">
                            </div>
                            <div id="ctl00_MainContent_PnlErrores" class="erroruuid" style="width:390px;">
                                <div style="vertical-align: top">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="ctl00_MainContent_UpnlResultados">
                        <div id="ctl00_MainContent_PnlResultados" style="display:none;">
                            <div class="form-group" id="dvAlert">
                            </div>
                            <div class="form-group" id="DivContenedor">
                                <div class="col-sm-12" id="ContenedorDinamico" style="overflow: auto; display: block; text-align: rigth; vertical-align: middle; position: relative;">
                                    <table id="ctl00_MainContent_tblResult" class="table table-responsive">
                                        <tbody>
                                        <tr>
                                            <th>
                              <span style="width: 160px;">
                                <input type="checkbox" style="display: inline-block; float: left; position: relative;" id="seleccionador" name="seleccionador" onclick="manejaseleccion();" title="Seleccionar todos" value="on"/>
                                  Acciones
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 385px;">
                                Folio Fiscal
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 150px;">
                                RFC Emisor
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 350px;">
                                Nombre o Razón Social del Emisor
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 150px;">
                                RFC Receptor
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 350px;">
                                Nombre o Razón Social del Receptor
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 200px;">
                                Fecha de Emisión
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 200px;">
                                Fecha de Certificación
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 150px;">
                                PAC que Certificó
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 150px;">
                                Total
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 130px;">
                                Efecto del Comprobante
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 200px;">
                                Estatus de cancelación
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 130px;">
                                Estado del Comprobante
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 200px;">
                                Estatus de Proceso de Cancelación
                              </span>
                                            </th>
                                            <th>
                              <span style="width: 200px;">
                                Fecha de Proceso de Cancelación
                              </span>
                                            </th>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="ctl00_MainContent_pageNavPosition" class="form-group">
                            </div>
                            <br/>
                            <br/>
                            <div class="form-group">
                                <div class="btn-group col-sm-offset-2 col-md-12">
                                    <input type="submit" name="ctl00$MainContent$BtnDescargar" value="Descargar Seleccionados" onclick="return validarSeleccionDescarga();" id="ctl00_MainContent_BtnDescargar" class="btn btn-primary"/>
                                        

                                    <input type="submit" name="ctl00$MainContent$BtnMetadata" value="Descargar Metadata" onclick="return MetadataDescarga();" id="ctl00_MainContent_BtnMetadata" class="btn btn-primary"/>
                                    <input type="submit" name="ctl00$MainContent$BtnImprimir" value="Exportar Resultados a PDF" id="ctl00_MainContent_BtnImprimir" class="btn btn-primary"/>
                                     

                                    <input type="submit" name="ctl00$MainContent$BtnCancelar" value="Cancelar Seleccionados" id="ctl00_MainContent_BtnCancelar" class="btn btn-primary"/>
                                </div>
                            </div>
                            <div class="form-group" id="dvAlert">
                            </div>
                        </div>
                        <br/>
                        <br/>
                        <div id="ctl00_MainContent_PnlNoResultados" style="text-align:center;display:none;">
                            <h2 class="subtitle" style="text-align: center;">
                                No existen registros que cumplan con los criterios de búsqueda ingresados,
                                intentar nuevamente.
                            </h2>
                        </div>
                        <input type="hidden" name="ctl00$MainContent$hfParametrosMetadata" id="hfParametrosMetadata"/>
                    </div>
                </div>
                <a id="setLinkButton" href="javascript:__doPostBack('ctl00$MainContent$setLinkButton','')">
                </a>
                <input type="hidden" name="ctl00$MainContent$hdnValAccion" id="hdnValAccion"/>
                <div id="ctl00_MainContent_UpdateProgress1" style="display: none;" role="status" aria-hidden="true">
                    <div class="progresofondo">
                    </div>
                    <div class="progreso">
                        <img src="Images/ajax-loader.gif" style="float: left; margin-top: 5px;"/>
                        <h2 style="width: 250px; float: left; font-size: 12pt">
                            Espere un momento...
                        </h2>
                    </div>
                </div>
                <!--    Modal integrar addenda  -->            <div class="modal fade" id="modalExito" name="modalExito" role="dialog" tabindex="-1" aria-hidden="true" data-keyboard="false" data-backdrop="static">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title" id="tituloExito">
                                Addenda
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div id="errorFirmadoSL" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 centrado alert alert-danger" style="">
                                <strong>
                                    ¡Error!
                                </strong>
                                <div id="errorCliente" style="text-align: left;">
                                </div>
                            </div>
                            <div id="formContainer">
                                <div id="uploadFile">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <label class="control-label" for="addenda">
                                                Archivo (.xml)
                                                <label class="form-text">
                                                    *
                                                </label>
                                                :
                                            </label>
                                            <input type="text" class="form-control" id="textAddenda" style="width: 92%;" placeholder="Ubicación del archivo"/>
                                            <label class="input-group-btn" style="vertical-align: bottom">
                              <span class="btn btn-default" style="float: right;">
                                Buscar

                                <input id="addenda" name="addenda" onchange="writeName(this.value)" type="file" accept=".xml" style="display: none;"/>
                              </span>
                                            </label>
                                        </div>
                                        <small>
                            <span class="form-text collapse" id="errorAddenda">
                            </span>
                                        </small>
                                    </div>
                                    <div class="clearfix">
                                        <div class="pull-left text-muted text-vertical-align-button">

                                            * Campos obligatorios

                                        </div>
                                        <div class="pull-right">
                                            <input type="hidden" name="ctl00$MainContent$hfXML" id="hfXML"/>
                                            <button class="btn btn-default" id="" type="button" onclick="cancelButton()">
                                                Cancelar
                                            </button>
                                            <button id="integrar" class="btn btn-primary">
                                                Integrar
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!--    Download Window    -->                      <div class="form-group collapse" id="downloadFile" data-toggle="modal" data-target="#exitoDescarga" style="z-index: 20">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <h4 class="">
                                            Confirmación.
                                        </h4>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <p>
                                            ¿Desea descargar el archivo xml?
                                        </p>
                                    </div>
                                </div>
                                <div class="clearfix">
                                    <div class="pull-right">
                                        <button type="button" class="btn btn-default" onclick="cancelButton()" id="" data-dismiss="modal">
                                            Cerrar
                                        </button>
                                        <a id="descarga-archivo" src="#" class="btn btn-primary">
                                            Guardar
                                        </a>
                                    </div>
                                </div>
                            </div>
                                <!-- /.modal -->                    </div>
                        </div>
                    </div>
                </div>
            </div>
                <!--    Modal integrar addenda-->            <script type="text/javascript" src="Scripts/Jquery/jquery.cookie.js">
            </script>
                <script type="text/javascript" src="Scripts/utilAddenda/integrarAddenda.js">
                </script>
                <script src="Scripts/utilfirma/crypto/aes.js">
                </script>
                <script src="Scripts/utilfirma/crypto/jsrsasign-8.0.3-all-min.js">
                </script>
                <script type="text/javascript" src="Scripts/utilfirma/FielUtil-1.5.1.js">
                </script>
                <script type="text/javascript" src="Scripts/utilfirma/firmaCancelacionCFDI.js">
                </script>
                <script type="text/javascript">
//<![CDATA[

        /// Variables (Blobs)
        var validCookieInterval;
        var validSesionInterval;
        var downloadCookie = 'DownloadedFile'
        /**
        * Función que muestra el update progress y crea 2 Intervals uno para validar que la descarga del archivo
        * se haya realizado y el otro mantiene la sesión.
        */
        function ShowProgress() {
            validSesionInterval = setInterval(function () {
                MantieneSesion();
            }, 60000);
            $get('ctl00_MainContent_UpdateProgress1').style.display = 'block';
            validCookieInterval = setInterval(function () {
                if ($.cookie(downloadCookie) != null && $.cookie(downloadCookie) == "OK") {
                    $.cookie(downloadCookie, null);
                    $get('ctl00_MainContent_UpdateProgress1').style.display = "none";
                    clearInterval(validCookieInterval);//delete interval
                    clearInterval(validSesionInterval);
                }
            }, 2000);
        }

        /**
        * Función valida que al menos este seleccionado un registro.
        * Se toman los valores de los registros seleccionados (blobUri) y los guarda en un hidden
        **/
        function validarSeleccionDescarga() {
            document.getElementById('dvAlert').innerHTML = '';

            if ($('.ListaFolios').filter(':checked').length == 0) {
                //alert("Favor de seleccionar registro(s)")
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-info alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> Favor de seleccionar registro(s)";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                return false;
            } else {
                ShowProgress();
                validarDescargaMasiva();

                return false;
            }
        }

        function MetadataDescarga() {
            $('#hdnValAccion').attr('value', 'DescargaMetadata');
            //ValidaCaptcha();  // Se habilita cuando este captcha
            AccionCaptcha();  // Se quita cuando este captcha
            return false;
        }

        function DescargaMetadata() {

            document.getElementById('dvAlert').innerHTML = '';
            ShowProgress();
            Metadatos();
            return false;
        }

        function Metadatos() {
            var urlValidaDescarga = "ConsultaEmisor.aspx/DescargaMetadatos";
            var Parametros = document.getElementById('hfParametrosMetadata').value;
            var data = encodeURIComponent($.base64.encode(Parametros));

            $.ajax({
                url: urlValidaDescarga,
                type: "POST",
                dataType: "json",
                contentType: 'application/json; charset=utf-8',
                data: "{'Parametros':'" + data + "'}",
                cache: false,
                async: true,
                success: function (respuestaValidacion) {

                    $get('ctl00_MainContent_UpdateProgress1').style.display = "none";

                    document.getElementById('dvAlert').innerHTML = '';
                    var newDivSuccess = document.createElement('div');
                    if (respuestaValidacion.d.startsWith("Error:")) {
                        newDivSuccess.className = "alert alert-danger alert-dismissible";
                        newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Error! <br/></strong>" + respuestaValidacion.d.replace("Error:", "");
                    }
                    else {
                        newDivSuccess.className = "alert alert-success alert-dismissible";
                        newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Descarga realizada con éxito! <br/></strong>" + respuestaValidacion.d;
                    }
                    document.getElementById('dvAlert').appendChild(newDivSuccess);
                    $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');

                },
                error: function (errorDetail) {
                    $get('ctl00_MainContent_UpdateProgress1').style.display = "none";

                    document.getElementById('dvAlert').innerHTML = '';
                    var newDivSuccess = document.createElement('div');
                    newDivSuccess.className = "alert alert-danger alert-dismissible";
                    newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Error! <br/></strong> Ocurrio un error al procesar su solicitud. Por favor intentelo más tarde";
                    document.getElementById('dvAlert').appendChild(newDivSuccess);
                    $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                },
            });
            }

            function ValidaCaptcha() {
                $("#ventanaModalCaptcha").modal("show");
            }
            function AccionCaptcha() {
                //$("#ventanaModalCaptcha").modal("hide"); // Se habilita cuando este captcha
                var accion = $("#hdnValAccion").val();
                if (accion.split('¬')[0] == "DescargaMasiva") {
                    validarDescargaMasiva();
                } else if (accion.split('¬')[0] == "DescargaMetadata") {
                    DescargaMetadata();
                }
                else {
                    var uriblob1 = accion.split('¬')[1];
                    validarDescargaUnitaria(uriblob1);
                }


            }


            function testvalidarDescargaMasiva() {
                var datos = "api/ValidaDescarga/" + $('.ListaFolios').filter(':checked').length;
                PageMethods.RecuperaRepresentacionImpresa(datos, onDescargaMasivaSucceed, onDescargaMasivaFailed);
            }

            function onDescargaMasivaSucceed(result, userContext, methodName) {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-success alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Descarga realizada con éxito! <br/></strong>" + result;
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
            }

            function onDescargaMasivaFailed(result, userContext, methodName) {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-danger alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Descarga realizada con éxito! <br/></strong>" + result;
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');

                //alert(result);
            }

            function validarDescargaMasiva() {
                var urlValidaDescarga = "ConsultaEmisor.aspx/ValidarDescarga";
                $.ajax({
                    url: urlValidaDescarga,
                    type: "POST",
                    dataType: "json",
                    contentType: 'application/json; charset=utf-8',
                    data: "{ id: " + $('.ListaFolios').filter(':checked').length + " }",
                    cache: false,
                    async: true,
                    success: function (respuestaValidacion) {
                        if (respuestaValidacion.d) {
                            respuestaValidacion = respuestaValidacion.d;
                        }
                        if (respuestaValidacion.Codigo == 0) {

                            var folioUriDescaga = [];
                            var descargaMasivaUrisModel = {};
                            var indiceFolio = 0;
                            $("input.ListaFolios:checked").each(function () {
                                var folioDescarga = $(this).val();
                                var uriDescarga = $(this).parent().find("#ListaFoliosUrl").val();

                                folioUriDescaga[indiceFolio] = { Folio: folioDescarga, Uri: uriDescarga };
                                indiceFolio = indiceFolio + 1;
                            });

                            descargaMasivaUrisModel.FolioUriList = folioUriDescaga;
                            var data = encodeURIComponent($.base64.encode(JSON.stringify(descargaMasivaUrisModel)));

                            $.ajax({
                                url: "ConsultaEmisor.aspx/Descargar",
                                type: "POST",
                                dataType: "json",
                                contentType: 'application/json; charset=utf-8',
                                cache: false,
                                async: true,
                                data: "{'param':'" + data + "'}",
                                success: function (respuestaDescarga) {

                                    $get('ctl00_MainContent_UpdateProgress1').style.display = "none";

                                     document.getElementById('dvAlert').innerHTML = '';
                                     var newDivSuccess = document.createElement('div');
                                     if (respuestaDescarga.d.startsWith("Error:")) {
                                         newDivSuccess.className = "alert alert-danger alert-dismissible";
                                         newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Ocurrió un Error en la Descarga! <br/></strong>" + respuestaDescarga.d.replace("Error:", "");
                                     }
                                     else {
                                         newDivSuccess.className = "alert alert-success alert-dismissible";
                                         newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Descarga realizada con éxito! <br/></strong>" + respuestaDescarga.d;
                                     }
                                     document.getElementById('dvAlert').appendChild(newDivSuccess);
                                     $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                                     //alert(respuestaDescarga.d);
                                 },
                                 error: function (xhr, ajaxOptions, thrownError) {
                                     //alert('Ocurrio un error al registrar la descarga :');
                                     //alert(xhr.responseText);
                                     $get('ctl00_MainContent_UpdateProgress1').style.display = "none";

                                document.getElementById('dvAlert').innerHTML = '';
                                var newDivSuccess = document.createElement('div');
                                newDivSuccess.className = "alert alert-danger alert-dismissible";
                                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Ocurrió un Error en la Descarga! <br/></strong>" + xhr.responseText;
                                document.getElementById('dvAlert').appendChild(newDivSuccess);
                                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                            }
                             });
                        } else {
                            $get('ctl00_MainContent_UpdateProgress1').style.display = "none";
                             //alert(respuestaValidacion.Mensaje);
                             document.getElementById('dvAlert').innerHTML = '';
                             var newDivSuccess = document.createElement('div');
                             newDivSuccess.className = "alert alert-warning alert-dismissible";
                             newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Precaución! <br/></strong>" + respuestaValidacion.Mensaje;
                             document.getElementById('dvAlert').appendChild(newDivSuccess);
                             $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                         }

                     },
                     error: function (errorDetail) {
                         document.getElementById('dvAlert').innerHTML = '';
                         var newDivSuccess = document.createElement('div');
                         newDivSuccess.className = "alert alert-danger alert-dismissible";
                         newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Error! <br/></strong> Ocurrio un error al procesar su solicitud. Por favor intentelo más tarde";
                         document.getElementById('dvAlert').appendChild(newDivSuccess);
                         $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                     },
                 });
             }

             function validarDescargaUnitaria(blobUri) {
                 var urlValidaDescargaUnitaria = "ConsultaEmisor.aspx/ValidarDescarga";
                 var dataParam = 1;
                 $.ajax({
                     url: urlValidaDescargaUnitaria,
                     type: "POST",
                     dataType: "json",
                     contentType: 'application/json; charset=utf-8',
                     data: "{ id:1 }",
                     cache: false,
                     async: true,
                     success: function (respuestaValidacion) {
                         if (respuestaValidacion.d) {
                             respuestaValidacion = respuestaValidacion.d;
                         }
                         if (respuestaValidacion.Codigo == 0) {

                             var opcionesUnitaria = "width=5,height=5,scrollbars=yes,menubar=no,status=no,directories=no,location=no,toolbar=no,resizable=yes,titlebar=no";
                             window.open(blobUri, "RecuperacionCFDI", opcionesUnitaria);
                         } else {
                             $get('ctl00_MainContent_UpdateProgress1').style.display = "none";

                        document.getElementById('dvAlert').innerHTML = '';
                        var newDivSuccess = document.createElement('div');
                        newDivSuccess.className = "alert alert-warning alert-dismissible";
                        newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> " + respuestaValidacion.Mensaje;
                        document.getElementById('dvAlert').appendChild(newDivSuccess);
                        $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                        //alert(respuestaValidacion.Mensaje);
                    }
                }
            });
        }

        //Se agrega manejador de evento para cuando se termine la llamda del UpdatePanel
        Sys.WebForms.PageRequestManager.getInstance().add_endRequest(endQueryRequest);

        //function _doPostBack(eventTarget, eventArgument) {
        //    document.forms[0]._EVENTTARGET.value = eventTarget;
        //    document.forms[0]._EVENTARGUMENT.value = eventArgument;
        //    document.forms[0].submit();
        //}

        //Funcicón que Forza la corrección del renderizado de tablas en IE9
        function endQueryRequest(sender, e) {
            var hfInicialBool = document.getElementById("hfInicialBool");

            if (hfInicialBool.value == "true") {
                var ddl = document.getElementById("ddlComplementos");
                ddl.selectedIndex = 0;
                ddl.disabled = true;
            }
            if (hfInicialBool.value == "false") {
                var ddl = document.getElementById("ddlComplementos");
                ddl.disabled = false;
            }

            CorregirTablaResultados(document.getElementById("ctl00_MainContent_PnlResultados"));
        }

        var rfcetiqueta;
        var rfcvalido;

        $(document).ready(function () {
            var hfFlag = document.getElementById('hfFlag');
            var hfData = document.getElementById('hfDatos');
            var hfDescarga = document.getElementById('hfDescarga');
            var hfCancelacion = document.getElementById('hfCancelacion');

            if (hfFlag.value == "true" && hfData.value != null && hfData.value != "") {
                SetValue();
            }

            if (hfFlag.value == "false" && hfData.value != null && hfData.value != "") {
                SetValueSinPatron();
            }

            if (hfCancelacion.value == "NoElementosSeleccionados") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong>  No ha seleccionado folios, seleccione elementos para cancelar.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#ctl00_MainContent_TxtRfcReceptor').offset().top }, 'slow');
                //alert('El o los comprobantes ya se encuentran cancelados');
            }

            if (hfCancelacion.value == "CancelacionesEnProceso") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong>  Uno o más de los elementos seleccionados ya cuenta con un proceso de cancelación.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#ctl00_MainContent_TxtRfcReceptor').offset().top }, 'slow');
                //alert('El o los comprobantes ya se encuentran cancelados');
            }

            if (hfCancelacion.value == "ExistenCancelados") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong>  Uno o más de los elementos seleccionados han sido cancelados con anterioridad.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#ctl00_MainContent_TxtRfcReceptor').offset().top }, 'slow');
                //alert('El o los comprobantes ya se encuentran cancelados');
            }

            if (hfCancelacion.value == "ExisteRelacionado") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong>  Ha seleccionado un elemento que tiene relación por lo que no puede ser cancelado.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
            }
            if (hfFlag.value == "false" && hfData.value == "" && hfCancelacion.value == "") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> No se puede realizar la solicitud de cancelación ya que uno de los comprobantes no es simplificado.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
            }

            if (hfDescarga.value == "CuotaParcial") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> Estás intentando descargas más documentos de los permitidos.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                //alert("Estás intentando descargas más documentos de los permitidos.");
            }
            if (hfDescarga.value == "CuotaCompleta") {
                document.getElementById('dvAlert').innerHTML = '';
                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> Ya no puedes descargar más documentos, espera hasta mañana.";
                document.getElementById('dvAlert').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
                //alert("Ya no puedes descargar más documentos, espera hasta mañana.");
            }
            if (hfDescarga.value == "CuotaLibre") {
                var opciones = "width=100,height=50,scrollbars=yes,menubar=no,status=no,directories=no,location=no,toolbar=no,resizable=yes,titlebar=no";
            }


            $('#ctl00_MainContent_BtnBusqueda').live('click', function () {

                $("#ctl00_MainContent_PnlErrores").empty();
                $("#ctl00_MainContent_PnlErrores").css('display', 'none');

                var fechaInicial = $('#ctl00_MainContent_CldFechaInicial2_Calendario_text').val();
                var horaInicial = $('#ctl00_MainContent_CldFechaInicial2_DdlHora').val();
                var minutoInicial = $('#ctl00_MainContent_CldFechaInicial2_DdlMinuto').val();
                var segundoInicial = $('#ctl00_MainContent_CldFechaInicial2_DdlSegundo').val();
                var fechaSplitInicial = splitTextoFecha(fechaInicial, '/');

                var fechaFinal = $('#ctl00_MainContent_CldFechaFinal2_Calendario_text').val();
                var horaFinal = $('#ctl00_MainContent_CldFechaFinal2_DdlHora').val();
                var minutoFinal = $('#ctl00_MainContent_CldFechaFinal2_DdlMinuto').val();
                var segundoFinal = $('#ctl00_MainContent_CldFechaFinal2_DdlSegundo').val();
                var fechaSplitFinal = splitTextoFecha(fechaFinal, '/');

                //Se resta uno al valor del mes porque en JavaScript los meses numericamente se representan del 0 - 11
                var dateInicial = new Date(fechaSplitInicial[2], parseEntero(fechaSplitInicial[1]) - 1, fechaSplitInicial[0], horaInicial, minutoInicial, segundoInicial, 0);
                var dateFinal = new Date(fechaSplitFinal[2], parseEntero(fechaSplitFinal[1]) - 1, fechaSplitFinal[0], horaFinal, minutoFinal, segundoFinal, 0);

                //Se verifica que la fehca final no sea menor a la incial
                if (dateFinal < dateInicial) {
                    $("#ctl00_MainContent_PnlErrores").append('<ul><li>La fecha inicial no puede ser posterior a la fecha final</li></ul>');
                    $("#ctl00_MainContent_PnlErrores").css('display', 'inline');

                    return false;
                }

                //Se agrega un año a la fecha incial y esa sera la fecha máxima a elegir
                var maxDate = new Date(dateInicial.getFullYear() + 1, dateInicial.getMonth(), dateInicial.getDate(), dateInicial.getHours(), dateInicial.getMinutes(), dateInicial.getSeconds());

                //Se verifica si el mes es diferente, para actual ante la logica de suma del 29 de Febrero, que da como resultado 1 de Marzo
                if (maxDate.getMonth() != dateInicial.getMonth())
                    maxDate.setDate(maxDate.getDate() - 1);

                //Se compara que la fecha final no sea mayor a la fecha máxima
                if (dateFinal > maxDate) {
                    $("#ctl00_MainContent_PnlErrores").append('<ul><li>La consulta esta limitada a rangos de fechas de máximo 12 meses.</li></ul>');
                    $("#ctl00_MainContent_PnlErrores").css('display', 'inline');

                    return false;
                }
            });


            $("#ctl00_MainContent_RdoFolioFiscal").live('click', function () {
                //$("#datepicker").css('visibility', 'hidden');
                //$("#datepicker").css('display', 'none');
                //$("#datepickeriframe").css('visibility', 'hidden');
                //$("#datepickeriframe").css('display', 'none');

                validaRfcAutenticado();
            });

            $("#ctl00_MainContent_BtnBusqueda").live('mouseover', function (event) {
                validaRfcAutenticado();
            });

            $("#ctl00_MainContent_BtnCancelar").live('mouseover', function (event) {
                validaRfcAutenticado();
            });


            $("#BtnImprimirVisible").live('click', function (event) {
                validaRfcAutenticado();
            });

            $("#ctl00_MainContent_BtnImprimir").live('mouseover', function (event) {
                validaRfcAutenticado();
            });

            $("#ctl00_MainContent_BtnDescargar").live('mouseover', function (event) {
                validaRfcAutenticado();
            });

            $("#ctl00_MainContent_BtnMetadata").live('mouseover', function (event) {
                validaRfcAutenticado();
            });


            $("#ctl00_MainContent_RdoFechas").live('click', function () {
                validaRfcAutenticado();
            });
        });

        function AccionCfdi(blobUri, argumento) {
            //if (rfcvalido) {
            MantieneSesion();

            var event = window.event;
            var opciones = "";
            if (argumento == "Detalle") {
                opciones = "width=5,height=5,scrollbars=yes,menubar=no,status=no,directories=no,location=no,toolbar=no,resizable=yes,titlebar=no";
                window.open(blobUri, "DetalleCfdi", opciones);
            }
            else if (argumento == "Recuperacion") {
                validarDescargaUnitaria(blobUri);
            }
            else if (argumento == "Acuse") {
                opciones = "width=5,height=5,scrollbars=yes,menubar=no,status=no,directories=no,location=no,toolbar=no,resizable=yes,titlebar=no";
                window.open(blobUri, "AcuseCancelacion", opciones);
            }
            else if (argumento == "Addenda") {
                $('#modalExito').modal('show');
                $('#errorFirmadoSL').hide();
                $('#hfXML')[0].value = blobUri;
            }
            if (event.stopstopPropagation) {
                event.stopPropagation();
            }
            else {
                event.cancelBubble = true;
            }
            //}
        }

        ////Función que maneja la seleccion y deseleccion multiple global para cancelación
        function manejaseleccion() {
            var s = document.getElementById("seleccionador");
            var estado = s.checked;
            $('.ListaFolios').each(function (i, obj) {
                obj.checked = estado;
            });
        }

        ////Función que maneja la seleccion y deseleccion multiple por elemento para cancelación
        function validaseleccion() {
            var estado = true;
            $('.ListaFolios').each(function (i, obj) {
                if (!(obj.checked)) estado = false;
            });
            var s = document.getElementById("seleccionador");
            s.checked = estado;
        }

        ////Función que oculta los panelers de resultados
        function ocultaResultados() {
            $("#ctl00_MainContent_PnlResultados").css('display', 'none');
            $("#ctl00_MainContent_PnlNoResultados").css('display', 'none');

        }

        ////Función que invoca al metodo de recuperación de acuse.
        function recuperaAcuse(datos) {
            MantieneSesion();
            PageMethods.RecuperaAcuse(datos, onRecuperaAcuseSucceed, onRecuperaAcuseFailed);
        }

        function validarCaracteres() {
            supressUpdatePanelRequestErrorCharacters("#ctl00_MainContent_TxtRfcReceptor");
        }

        function recuperaRepresentacionImpresa(datos) {
            PageMethods.RecuperaRepresentacionImpresa(datos, onRecuperaRISucceed, onRecuperaRIFailed);
        }

        function onRecuperaRISucceed(result, userContext, methodName) {
            opciones = "width=5,height=5,scrollbars=no,menubar=no,status=no,directories=no,location=no,toolbar=no,resizable=no,titlebar=no";
            window.open(result, "RecuperacionRepresentacionImpresa", opciones);
        }

        function onRecuperaRIFailed(result, userContext, methodName) {
            document.getElementById('dvAlert').innerHTML = '';
            var newDivSuccess = document.createElement('div');
            newDivSuccess.className = "alert alert-warning alert-dismissible";
            newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> No se ha podido recuperar la representación Impresa, por favor intentelo más tarde.";
            document.getElementById('dvAlert').appendChild(newDivSuccess);
            $('html, body').animate({ scrollTop: $('#dvAlert').offset().top }, 'slow');
            //alert("No se ha podido recuperar la representación Impresa, por favor intentelo más tarde.");
        }

        function onRecuperaAcuseSucceed(result, userContext, methodName) {
            opciones = "width=5,height=5,scrollbars=yes,menubar=no,status=no,directories=no,location=no,toolbar=no,resizable=yes,titlebar=no";
            window.open(result, "RecuperacionAcuseCancelacion", opciones);
        }

        function onRecuperaAcuseFailed(result, userContext, methodName) {
            document.getElementById('dvAlert').innerHTML = '';
            var newDivSuccess = document.createElement('div');
            newDivSuccess.className = "alert alert-warning alert-dismissible";
            newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> No se ha podido recuperar el acuse de cancelación, por favor intentelo más tarde.";
            document.getElementById('dvAlert').appendChild(newDivSuccess);

            //alert("No se ha podido recuperar el acuse de cancelación, por favor intentelo más tarde.");
        }

        function SetValue() {
            if (confirm("¿Seguro desea cancelar la seleccion?")) {
                document.getElementById('setLinkButton').click();
                //$("#hiddenFlagCancelacion").val = "true";
                //document.forms["fulanito"].action="CancelaBeta"
                //    .submit();
            }
            else {
                //alert('NO');
            }
        }

        function SetValueSinPatron() {
            document.getElementById('setLinkButton').click();
        }


        function Pager(tableName, itemsPerPage) {
            this.tableName = tableName;
            this.itemsPerPage = itemsPerPage;
            this.currentPage = 1;
            this.pages = 0;
            this.inited = false;

            this.showRecords = function (from, to) {
                var rows = document.getElementById(tableName).rows;
                // i starts from 1 to skip table header row
                for (var i = 1; i < rows.length; i++) {
                    if (i < from || i > to)
                        rows[i].style.display = 'none';
                    else
                        rows[i].style.display = '';
                }
            }

            this.showPage = function (pageNumber) {
                if (!this.inited) {
                    alert("not inited");
                    return;
                }

                var oldPageAnchor = document.getElementById('pg' + this.currentPage);
                oldPageAnchor.className = 'pg-normal';

                this.currentPage = pageNumber;
                var newPageAnchor = document.getElementById('pg' + this.currentPage);
                newPageAnchor.className = 'pg-selected';

                var from = (pageNumber - 1) * itemsPerPage + 1;
                var to = from + itemsPerPage - 1;
                this.showRecords(from, to);
            }

            this.prev = function () {
                if (this.currentPage > 1)
                    this.showPage(this.currentPage - 1);
            }

            this.next = function () {
                if (this.currentPage < this.pages) {
                    this.showPage(this.currentPage + 1);
                }
            }

            this.init = function () {
                var rows = document.getElementById(tableName).rows;
                var records = (rows.length - 1);
                this.pages = Math.ceil(records / itemsPerPage);
                this.inited = true;
            }

            this.showPageNav = function (pagerName, positionId) {
                if (!this.inited) {
                    alert("not inited");
                    return;
                }
                var element = document.getElementById(positionId);

                var pagerHtml = '<ul class="pagination">';
                pagerHtml += '<li onclick="' + pagerName + '.prev();"><a>&laquo;</a></li>';
                for (var page = 1; page <= this.pages; page++)
                    pagerHtml += '<li id="pg' + page + '" class="pg-normal" onclick="' + pagerName + '.showPage(' + page + ');"><a>' + page + '</a></li>';
                pagerHtml += '<li onclick="' + pagerName + '.next();"><a>&raquo;</a></li>';

                element.innerHTML = pagerHtml;
            }
        }

//]]>
            </script>
                <div id="dvAlertMaster">
                </div>
            </div>
        </div>
        <div class="footer">
        </div>
    </main>
    <script type="text/javascript">

//<![CDATA[
var Page_ValidationSummaries =  new Array(document.getElementById("ctl00_MainContent_ValidationSummary1"));
var Page_Validators =  new Array(document.getElementById("ctl00_MainContent_CldFechaInicial2_RvFecha"), document.getElementById("ctl00_MainContent_CldFechaFinal2_RvFecha"));
//]]>

      </script>
    <script type="text/javascript">

//<![CDATA[
var ctl00_MainContent_CldFechaInicial2_RvFecha = document.all ? document.all["ctl00_MainContent_CldFechaInicial2_RvFecha"] : document.getElementById("ctl00_MainContent_CldFechaInicial2_RvFecha");
ctl00_MainContent_CldFechaInicial2_RvFecha.controltovalidate = "ctl00_MainContent_CldFechaInicial2_Calendario_text";
ctl00_MainContent_CldFechaInicial2_RvFecha.errormessage = "ERROR: Favor de proporcionar la fecha inicial de emisión";
ctl00_MainContent_CldFechaInicial2_RvFecha.display = "None";
ctl00_MainContent_CldFechaInicial2_RvFecha.validationGroup = "Fechas";
ctl00_MainContent_CldFechaInicial2_RvFecha.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
ctl00_MainContent_CldFechaInicial2_RvFecha.initialvalue = "";
var ctl00_MainContent_CldFechaFinal2_RvFecha = document.all ? document.all["ctl00_MainContent_CldFechaFinal2_RvFecha"] : document.getElementById("ctl00_MainContent_CldFechaFinal2_RvFecha");
ctl00_MainContent_CldFechaFinal2_RvFecha.controltovalidate = "ctl00_MainContent_CldFechaFinal2_Calendario_text";
ctl00_MainContent_CldFechaFinal2_RvFecha.errormessage = "ERROR: Favor de proporcionar la fecha final de emisión";
ctl00_MainContent_CldFechaFinal2_RvFecha.display = "None";
ctl00_MainContent_CldFechaFinal2_RvFecha.validationGroup = "Fechas";
ctl00_MainContent_CldFechaFinal2_RvFecha.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
ctl00_MainContent_CldFechaFinal2_RvFecha.initialvalue = "";
var ctl00_MainContent_ValidationSummary1 = document.all ? document.all["ctl00_MainContent_ValidationSummary1"] : document.getElementById("ctl00_MainContent_ValidationSummary1");
ctl00_MainContent_ValidationSummary1.validationGroup = "FolioFiscal";
//]]>

      </script>
    <script type="text/javascript">

//<![CDATA[
$("#ctl00_MainContent_TxtUUID").mask("hhhhhhhh-hhhh-hhhh-hhhh-hhhhhhhhhhhh");validarCaracteres(); DefinePosicionInicial();updateDateField(ctl00_MainContent_CldFechaInicial2_SeleccionFecha); EstadoComprobante('-1'); EstadoComprobante('-1'); ConfiguraCombosMac();
var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}

(function(id) {
    var e = document.getElementById(id);
    if (e) {
        e.dispose = function() {
            Array.remove(Page_ValidationSummaries, document.getElementById(id));
        }
        e = null;
    }
})('ctl00_MainContent_ValidationSummary1');

document.getElementById('ctl00_MainContent_CldFechaInicial2_RvFecha').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('ctl00_MainContent_CldFechaInicial2_RvFecha'));
}

document.getElementById('ctl00_MainContent_CldFechaFinal2_RvFecha').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('ctl00_MainContent_CldFechaFinal2_RvFecha'));
}
Sys.Application.add_init(function() {
    $create(Sys.UI._UpdateProgress, {"associatedUpdatePanelId":null,"displayAfter":500,"dynamicLayout":true}, null, null, $get("ctl00_MainContent_UpdateProgress1"));
});
//]]>

      </script>
    <span style="display:none !important">
        <input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value=""/>
      </span>
    <span style="display:none !important">
        <input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value=""/>
      </span>
    <span style="display:none !important">
        <input type="hidden" name="__LASTFOCUS" id="__LASTFOCUS" value=""/>
      </span>
    <span style="display:none !important">
        <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="HyOUBF5YGRygoSrCTzehJtCkPm7bNxkn+R1DQku+U7c5k9NiB6jpRi3kO3rw4OZx8sLLWeMyEd96V+ipvdYbrofkYnwEUJHmqSR0h8dvKl/Ra9eQ06BuLbN4wIZXLw6h86eD6VfY7/wRU7rm5DsV/a8STdLCNyRlhZ7x638W2jjth1wb98CNmltJ+Qhek6yiXLA30DRksOrvXyPJTuOa6BYpSZhKYaWbk/pLl+tVYk19cCqzYMrt/Xr4z9KQWyxvohJN+blL3NIHrYtRe7VifIUMPeLgpDBX4QmqBqNKSAMqtk7SU3ZPFrpK1sJ6GIBsFxdJaRO4cgmS9arhTVasqtZuoiv7cIsVuUsrjoPVUvGoIht4DPRmXlMOnRgtIWmRGaUmOS0ZH9c5Gsv7qlUFQ/OIVazXr4o7IL39gxbAC6AwwbYIr+rC3B5PzRVAn191mfHeAfxXTeDUB3UUKb5T2hTUO6UT57kphQR7+NfoQne+2BkTWmyUzQLZ6E651e1CX0xvD4OxE+wkGyBxtLLlnKf8pMWtkPaiXUR3zXcqbAY82JsnZeeHFGpA5ibp2Y+BgtkRkhV28+5OTKuu1a6M/Yul95s8KM2gHBIuAiEEOQVTjI08/74jQLqW7lOdoQpieniIVSKJiGR+GIPdKsNdWM9oCUjgWwCaXnj6ZLBnIbuoL3C5JC0PA3nRlSP8SpKntRmHfSIPhW3m/lGJt/uUKhdWUbxIH93jL7CiNFzehL7oyY1863UlkKZ+V73pMIGTr6r4d/vdlNEr8ubYvp3Bt8281YPTTacjCMTfUXJ3CzExrgIHq+H/IiOuK9O5bIe3P844sbE1LJy0tgOCycrJXK5WpHp1uHHTP3NI1mq+WKUuMhOXJIxSaU4y/VcQa6oeqf79j2vLk9X8L68zz/mUEgyXoozMqqgSpcjntA3WfBd4rbmJ/bnC5S9cjF2EPkLWSHjx3jpEbwpsNCJMijfQtLZ6/x8/YdBK7J1cUsCmbiK2GNQXYvi+fSzzFyhAVcbDTFXG418zt+xv5EbaQ1lOAqEV/RKVU6PdmKiq3eI7UYGhPSGmf4I3xcXOU+v+1zt2JqnEuKjELLXufoUPO+TjrOd37Qg41X62vrgwdEPXEMd8p4nF973d38BY77Nv0p9uhRMT/qGr21Jea3Paxtl6P8Ob90DgYS1xkEDl3aWus2aCielX1W7bsE1qpHE14j7KdbNXQOyEm9mBayszgw9qtr6I5Ky+AkwnJFTFylcoWpqwd+APKBge/EVQwRYKWl4D1u6ljr7U7BM/vhL38Cdc+8wZmtA0EVPNyx6w0gv/k8vqygW+AsbyB5A8N/iinkkbAupN77QEX/+5LfQpG7fcKEoxCKH0rPe8qVt4YuQ+ZmTP2l8RxKsTw/2x9PvCVvjfrgYFje6WCi8bSd7Z/45gmwQ0SC6XHw0MKsbkd5Z/TUHJYZZR1QYxC90bv4ZUx5OwKJW82FtTzk5YCBgzgM/zuZ+SfnH/KLLjPlPARGfyASo0aIQHfUjaxM+TEl1uvWF5RQrQD1e5O7Hh3hjpXGgI5gyGl2HemT5g/C3UiNn9uRyKM/ZIZENvmHrsY7LQIfXeH7iC+GHBWX8sL0lSsAsaJYIDTGRS9Ay+zdaSnLY5UWTY4J7fZpYKo2oEcyK+pr01MoDxocwoOEObfej+eDkat/VB2l6oDoTudv5ZEZJxy61CvmEaF01GRjbbdCWxLx+XF6JcJ8ti7XEm9tMPfqJC6Jr8aYYHKG20EJYiEsmUn07QhNg2JL2xQRJbi7YN0udqVIVs+f30+juTD0vSv8vekLVoqgeCSrrv5B3Hx1aK5XORuqocOmEx6hIqDjzgvd3dzVI2zvVC1gQfFkbgef5mDwYjcDmnsG5NFBUGWr6Kaj9uJxmaboQArekJvr1WXeZeOHv+eg/dMIUvL+yPcngDfb5FeVRwRyGt4UI6oT5Z4IT8aKJjsR32cceU6xAUYBmgxPRH1m84CLzlMbsIUU9Z3NNi4EJoRGy1xcBkrNPAAr0AFw2KrFlU3ZQO32ybdhbtW7L15s/YT2gTfUF/9Rp1n/BuC46HAvx+i9ulC8NmKZwCoo071ExZEjxcw9e2vZNBzcBWqjJoLq9AV2mXSuZUFMtS1INmJh4YEttDr+NYq7Ru/OUevkdV/pZv/KDnyaJWiZTWjN0ynowXHXMvhb5OZmLNJrCEnkReDRU+BIKYqb9FGnp4aVBx+FJzLmV0T/1jsh4SQeHiLWrjYKDj+nZKCU0dVqWDHaoMQ8bPNpQCvOibkn9wEZgiBKuWiJecsby9topZFN446gPpCVXLzqfcOH198OwDEZBuOw20b7xmGqKXl346dgnkqjAixcehi9b/JK25m8mQ7VWIu8td82Vd1IgkngFJmIhUNli+VoDfiHRpGYpM/qjC9yWBJOPlzMqso4aL6o52wMewjjHhsTOvwXsfDc9Dk34WAM7HgpWdrFTFsHjX17ZXhBWS5VFu0NTz/YxtVHAvDGdknRD8o8pCGVfSlGRV3NAw4N4r7fQXYqOsPaPJ510UlGo1Hjr7u+tRySAa2DB1rRUOZ5PFhd4p9mAIyT4qqqHIP0nf8skaZH6VtOgEmaf+3HfY74csEVp0shedHcxCiCkHLNYNsKaM4Q6c6xG++840ePubl0rVaZORrbZmjgyZtPsVR3+HVIblKM1hMhU8x9e9tMoO3sdkV3OXQP4FziSRU1VZZtzVhptyovwmQ7Feybs+p+03flQXa+Ea/RFQwxnfpK25sk8/y5DMaqmzlfWwBn94IE/KmRh6dm/30zBq48/AHDhuYba+mvKi5Sth8uj1yWZEBxtCTM5svYfHlfkAbG53NBFyooDlBqy7SnwojE9mzfvdK6sCrF7fB9B4B0Y3DQ//HEVvPA/7uC+E5hcO9h/sHtXIbxO/Ov7EdWCFK+ChHxE7IWF6UQaeB2PtiPzKCNrhtUidyVMz3r7GgOWh6CFIKk2CeRQ+FScmxZlZUvjIg9p2EOZ7ACl0jpPPDzHeKfQQia3pp/STYbzniqfSE7+VuswApakbhh66u9KjuZuBwObRMqdxh7SKsulZn0s8v+o3eTmSMu+IX0gNsdAkF87cFxVTwciJPZG6h2bz0I1rBUlYLrsRRANSfHLQd/JAZ50AH6J584JLzgKJhFLaEGu1oexZ3kTnCE1u+22SjNvIiiLgtJF4ihy+SOWA6ReDcUMPNv0375Ny8AdeuHXcgZm91b1I39HOzQz54oqSobaTeMlGp4sG/jFbu8Vw1K++Ii9d3Xz4kbHEYa+XcsAK8WlY7x34q5Orh5lpakU5YQH0ck6ySMJrL6SlNJhO2ON90OBO8mmvTtWU6tS0BJZjw4n7HlapJLTVwh1gx0SFiWdGlE87qin+iMt3onhmPZUDIGwZo5i91Djh0evdRVkECOZBIZuU1M9r4kh9iu6QOpBCqBj+z/+d073dtpUA6b7nCR8vDH2pLogdXFMipfGt9JezrQisWNF7FOlWkqk0KeZvoeTkb4s41fo3DWV6wChcrIqKM+tkO21nYbHTOhwqOnFaLO4ZRLYnn1Jp+ylSWYB7rzQiwGLwumMJOkaSbjscvl3ljDclNpdzWkoYPvon9M9nLOp5o6n0Gi59DjsVyFAXJk1qt03y0V0drj7ZUvHmpv+1J7C9gPXGTqcGB8iwRYaeMqUdeyw0tNsUvOQmkS2c9XGZt8heJUcPGe2iKCFs8TNB3Agy3k7faTJmCNIasBBxXgNFdmpuq0ZpjHcbz3NBviU9W5LvuSDqKIvPbLuLldaw+FFQviFZX57hZ2SGCJVjQl7k808ZYpZnNFngdWRQIuM6f8B096cATDAyEliOFmYabw9VlIIT4qOAaicRicc7RGhwR9xNrU/1/PpaPN+JuW/zsh9dFQtMRG+bogoPA3YEmvDRTbwNTkg4D/sBLakF6VA6GNIcq9L9bVg/b1wutAMCccb+UCaXV5xGOD0BGXyjsocUaEeriptmTUZHB8fty9CzSheL8LAm8v1CAvNHOqotwhua"/>
      </span>
    <span style="display:none !important">
        <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="3D1378D8"/>
      </span>
    <span style="display:none !important">
        <input type="hidden" name="__VIEWSTATEENCRYPTED" id="__VIEWSTATEENCRYPTED" value=""/>
      </span>
</form>
<script type="text/javascript">
//<![CDATA[

         $(document).ready(function () {
            var aut = "SSA161109CZ1";
            $("#hdnAut").val($.base64.encode(aut));
         });

        Sys.WebForms.PageRequestManager.getInstance().add_endRequest(endRequest);

        function endRequest(sender, e) {
            if (e.get_error()) {

                var newDivSuccess = document.createElement('div');
                newDivSuccess.className = "alert alert-warning alert-dismissible";
                newDivSuccess.innerHTML = "<button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button><strong>¡Atención! <br/></strong> En estos momentos el servicio de red presenta lentitud, favor de intentar nuevamente.";
                document.getElementById('dvAlertMaster').appendChild(newDivSuccess);
                $('html, body').animate({ scrollTop: $('#dvAlertMaster').offset().top }, 'slow');
                //alert('En estos momentos el servicio de red presenta lentitud, favor de intentar nuevamente.');

                e.set_errorHandled(true);
            }
        }

        function deshabilitaHistoria() {
            window.history.forward();
        }

//]]>
    </script>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',serif;font-style:italic;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',sans-serif;font-style:italic;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:serif;font-style:italic;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:sans-serif;font-style:italic;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',serif;font-style:italic;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',sans-serif;font-style:italic;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:serif;font-style:italic;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:sans-serif;font-style:italic;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',serif;font-style:normal;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',sans-serif;font-style:normal;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:serif;font-style:normal;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:sans-serif;font-style:normal;font-weight:400;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',serif;font-style:normal;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',sans-serif;font-style:normal;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:serif;font-style:normal;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:sans-serif;font-style:normal;font-weight:300;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',serif;font-style:normal;font-weight:600;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',sans-serif;font-style:normal;font-weight:600;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:serif;font-style:normal;font-weight:600;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:sans-serif;font-style:normal;font-weight:600;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',serif;font-style:normal;font-weight:700;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:'Open Sans',sans-serif;font-style:normal;font-weight:700;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:serif;font-style:normal;font-weight:700;">
      BESbswy
    </span>
<span aria-hidden="true" style="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:sans-serif;font-style:normal;font-weight:700;">
      BESbswy
    </span>
<footer class="main-footer">
    <div class="list-info">
        <div class="container">
            <div class="row">
                <div class="col-sm-4">
                    <h5>
                        Enlaces
                    </h5>
                    <ul>
                        <li>
                            <a href="https://www.gob.mx/accesibilidad">
                                Declaración de Accesibilidad
                            </a>
                        </li>
                        <li>
                            <a href="https://www.gob.mx/privacidad">
                                Política de privacidad
                            </a>
                        </li>
                        <li>
                            <a href="https://www.gob.mx/terminos">
                                Términos y Condiciones
                            </a>
                        </li>
                        <li>
                            <a href="http://www.ordenjuridico.gob.mx" target="_blank">
                                Marco Jurídico
                            </a>
                        </li>
                        <li>
                            <a href="http://portaltransparencia.gob.mx" target="_blank">
                                Portal de Obligaciones de Transparencia
                            </a>
                        </li>
                        <li>
                            <a href="https://www.infomex.org.mx/gobiernofederal/home.action" target="_blank">
                                Sistema Infomex
                            </a>
                        </li>
                        <li>
                            <a href="http://inicio.ifai.org.mx/SitePages/ifai.aspx" target="_blank">
                                INAI
                            </a>
                        </li>
                        <li>
                            <a href="https://www.gob.mx/sitemap">
                                Mapa de sitio
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h5>
                        ¿Qué es gob.mx?
                    </h5>
                    <p>
                        Es el portal único de trámites, información y participación ciudadana.
                        <a href="https://www.gob.mx/que-es-gobmx">
                            Leer más
                        </a>
                    </p>
                    <ul>
                        <li>
                            <a href="https://www.gob.mx/en/index">
                                English
                            </a>
                        </li>
                        <li>
                            <a href="https://www.gob.mx/temas">
                                Temas
                            </a>
                        </li>
                        <li>
                            <a href="http://reformas.gob.mx" target="_blank">
                                Reformas
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="col-sm-4">
                    <h5>
                        Contacto
                    </h5>
                    <p>
                        Mesa de ayuda: dudas e información
                        <br/>
                        gobmx@funcionpublica.gob.mx
                    </p>
                    <p>
                        <a href="https://www.gob.mx/tramites/ficha/presentacion-de-quejas-y-denuncias-en-la-sfp/SFP54">
                            Denuncia contra servidores públicos
                        </a>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <form role="form" id="subscribete">
                        <fieldset>
                            <legend class="vh">
                                Suscríbete
                            </legend>
                            <label for="email">
                                Mantente informado. Suscríbete.
                            </label>
                            <div class="form-group-icon">
                                <input type="text" class="form-control" id="email" name="email" aria-label="Ingresa tu correo electronico" placeholder="usuario@ejemplo.com"/>
                                <button id="subscribe" type="button" class="blue-right btn">
                      <span class="vh">
                        Suscríbete
                      </span>
                                    <i class="icon-caret-right">
                                    </i>
                                </button>
                            </div>
                            <div class="message-subscribe hidden">
                            </div>
                        </fieldset>
                    </form>
                </div>
                <div class="col-sm-4 col-sm-offset-4">
                    <h5>
                        Síguenos en
                    </h5>
                    <ul class="list-inline">
                        <li>
                            <a class="social-icon facebook" target="_blank" href="https://www.facebook.com/gobmx" aria-label="Facebook de presidencia">
                            </a>
                        </li>
                        <li>
                            <a class="social-icon twitter" target="_blank" href="https://twitter.com/gobmx" aria-label="Twitter de presidencia">
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <img class="gobmx-footer" src="https://framework-gb.cdn.gob.mx/assets/images/gobmxlogo.svg" width="126" height="39" alt="Página de inicio, Gobierno de México"/>
            </div>
            <div class="col-sm-4 col-sm-offset-4">
            </div>
        </div>
    </div>
    <img src="https://sb.scorecardresearch.com/p?c1=2&amp;c2=17183199&amp;ns_site=gobmx&amp;name=portalcfdi.facturaelectronica.consultaemisor" height="1" width="1" alt="*" class="vh"/>
</footer>
</body>
</html>
